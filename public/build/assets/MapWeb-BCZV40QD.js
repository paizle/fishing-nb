import{R as f,j as c,r as h,x as v}from"./app-CzuJ5vZ_.js";import{p as o,N as p}from"./NewBrunswickMap-D67twreu.js";function m({containerRef:d=null,onMouseEnterLocation:s,onMouseLeaveLocation:i,onClickLocation:r}){const l=d||f.createRef(null);return f.useEffect(()=>{if(l.current){const e=l.current.querySelector("svg");Object.keys(o).forEach(t=>{const n=e.querySelector("#"+t);n.classList.add("location"),s&&n.addEventListener("mouseenter",a=>{s(a,t)}),i&&n.addEventListener("mouseleave",a=>i(a,t)),r&&n.addEventListener("click",a=>r(a,t))})}},[l.current]),c.jsx(p,{containerRef:l})}function x({locations:d}){const s=h.useRef(null),i=h.useRef(null),r=d.reduce((e,t)=>(e[t.name]=t,e),{}),l=e=>{const t=o[e];return r[t]};return c.jsxs("div",{className:"MapWeb",children:[c.jsx(m,{containerRef:s,onMouseEnterLocation:(e,t)=>{i.current.querySelector(`[data-path-id=${t}] a`).classList.add("highlighted")},onMouseLeaveLocation:(e,t)=>{i.current.querySelector(`[data-path-id=${t}] a`).classList.remove("highlighted")},onClickLocation:(e,t)=>{i.current&&i.current.querySelector(`[data-path-id=${t}] a`).click()}}),c.jsx("div",{className:"locations",ref:i,children:c.jsx("ul",{children:Object.keys(o).map(e=>{var t,n;return c.jsx("li",{"data-path-id":e,children:c.jsxs(v,{href:route("location.region",{id:l(e).id}),onClick:a=>{var u;if(!((u=r==null?void 0:r[o[e]])!=null&&u.hasData))return a.preventDefault(),!1},onMouseEnter:a=>{s.current&&s.current.querySelector(`[id=${e}]`).classList.add("active")},onMouseLeave:a=>{s.current&&s.current.querySelector(`[id=${e}]`).classList.remove("active")},children:[c.jsx("h3",{children:o[e]}),c.jsxs("em",{children:[!((t=r==null?void 0:r[o[e]])!=null&&t.hasData)&&c.jsx("strong",{children:"(no data)"}),(n=r==null?void 0:r[o[e]])==null?void 0:n.description]})]})},e)})})})]})}export{x as default};
