import{r as P,g as pt,j as S}from"./app-D0zpqzw0.js";import{u as ft,P as ht}from"./PublicLayout-LyYTpQ7M.js";import{P as gt}from"./PublicNav-DSjPcqno.js";import mt from"./FishLimitsGrid-82I1rwhs.js";import{u as vt}from"./useLandingPage-CJ0T5HwL.js";import{u as It}from"./useScreenOrientation-DWwJPBW-.js";import yt from"./SelectFishMobile-B6KOGhjJ.js";import St from"./SelectFishDesktop-BoC3qq4X.js";import"./ResponsiveNavLink-pXqkw7Bh.js";import"./transition-CqseGztq.js";import"./parseMySqlDate-C6UWLuIo.js";/* empty css                */import"./getFishImageSrc-bMjek-YH.js";function bt({title:t,titleId:r,...o},l){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":r},o),t?P.createElement("title",{id:r},t):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const wt=P.forwardRef(bt);function q(t,r){if(t==null)return{};var o={};for(var l in t)if({}.hasOwnProperty.call(t,l)){if(r.includes(l))continue;o[l]=t[l]}return o}function R(){return R=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var l in o)({}).hasOwnProperty.call(o,l)&&(t[l]=o[l])}return t},R.apply(null,arguments)}function De(t,r){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},De(t,r)}function xt(t,r){t.prototype=Object.create(r.prototype),t.prototype.constructor=t,De(t,r)}var ke={exports:{}},Ct="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Et=Ct,Ht=Et;function We(){}function Ue(){}Ue.resetWarningCache=We;var Ot=function(){function t(l,c,e,a,p,g){if(g!==Ht){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}t.isRequired=t;function r(){return t}var o={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:r,element:t,elementType:t,instanceOf:r,node:t,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Ue,resetWarningCache:We};return o.PropTypes=o,o};ke.exports=Ot();var Dt=ke.exports;const f=pt(Dt);var y={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Te=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),pe=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),me=Symbol.for("react.context"),Rt=Symbol.for("react.server_context"),ve=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Tt=Symbol.for("react.offscreen"),qe;qe=Symbol.for("react.module.reference");function L(t){if(typeof t=="object"&&t!==null){var r=t.$$typeof;switch(r){case Te:switch(t=t.type,t){case pe:case he:case fe:case Ie:case ye:return t;default:switch(t=t&&t.$$typeof,t){case Rt:case me:case ve:case be:case Se:case ge:return t;default:return r}}case Pe:return r}}}y.ContextConsumer=me;y.ContextProvider=ge;y.Element=Te;y.ForwardRef=ve;y.Fragment=pe;y.Lazy=be;y.Memo=Se;y.Portal=Pe;y.Profiler=he;y.StrictMode=fe;y.Suspense=Ie;y.SuspenseList=ye;y.isAsyncMode=function(){return!1};y.isConcurrentMode=function(){return!1};y.isContextConsumer=function(t){return L(t)===me};y.isContextProvider=function(t){return L(t)===ge};y.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Te};y.isForwardRef=function(t){return L(t)===ve};y.isFragment=function(t){return L(t)===pe};y.isLazy=function(t){return L(t)===be};y.isMemo=function(t){return L(t)===Se};y.isPortal=function(t){return L(t)===Pe};y.isProfiler=function(t){return L(t)===he};y.isStrictMode=function(t){return L(t)===fe};y.isSuspense=function(t){return L(t)===Ie};y.isSuspenseList=function(t){return L(t)===ye};y.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pe||t===he||t===fe||t===Ie||t===ye||t===Tt||typeof t=="object"&&t!==null&&(t.$$typeof===be||t.$$typeof===Se||t.$$typeof===ge||t.$$typeof===me||t.$$typeof===ve||t.$$typeof===qe||t.getModuleId!==void 0)};y.typeOf=L;const Fe=t=>typeof t=="object"&&t!=null&&t.nodeType===1,$e=(t,r)=>(!r||t!=="hidden")&&t!=="visible"&&t!=="clip",oe=(t,r)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const o=getComputedStyle(t,null);return $e(o.overflowY,r)||$e(o.overflowX,r)||(l=>{const c=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch{return null}})(l);return!!c&&(c.clientHeight<l.scrollHeight||c.clientWidth<l.scrollWidth)})(t)}return!1},se=(t,r,o,l,c,e,a,p)=>e<t&&a>r||e>t&&a<r?0:e<=t&&p<=o||a>=r&&p>=o?e-t-l:a>r&&p<o||e<t&&p>o?a-r+c:0,Pt=t=>{const r=t.parentElement;return r??(t.getRootNode().host||null)},Mt=(t,r)=>{var o,l,c,e;if(typeof document>"u")return[];const{scrollMode:a,block:p,inline:g,boundary:x,skipOverflowHiddenElements:M}=r,H=typeof x=="function"?x:N=>N!==x;if(!Fe(t))throw new TypeError("Invalid target");const _=document.scrollingElement||document.documentElement,I=[];let C=t;for(;Fe(C)&&H(C);){if(C=Pt(C),C===_){I.push(C);break}C!=null&&C===document.body&&oe(C)&&!oe(document.documentElement)||C!=null&&oe(C,M)&&I.push(C)}const A=(l=(o=window.visualViewport)==null?void 0:o.width)!=null?l:innerWidth,$=(e=(c=window.visualViewport)==null?void 0:c.height)!=null?e:innerHeight,{scrollX:F,scrollY:n}=window,{height:i,width:s,top:d,right:u,bottom:m,left:h}=t.getBoundingClientRect(),{top:w,right:v,bottom:D,left:E}=(N=>{const b=window.getComputedStyle(N);return{top:parseFloat(b.scrollMarginTop)||0,right:parseFloat(b.scrollMarginRight)||0,bottom:parseFloat(b.scrollMarginBottom)||0,left:parseFloat(b.scrollMarginLeft)||0}})(t);let T=p==="start"||p==="nearest"?d-w:p==="end"?m+D:d+i/2-w+D,O=g==="center"?h+s/2-E+v:g==="end"?u+v:h-E;const j=[];for(let N=0;N<I.length;N++){const b=I[N],{height:X,width:Y,top:G,right:we,bottom:xe,left:Z}=b.getBoundingClientRect();if(a==="if-needed"&&d>=0&&h>=0&&m<=$&&u<=A&&(b===_&&!oe(b)||d>=G&&m<=xe&&h>=Z&&u<=we))return j;const J=getComputedStyle(b),Q=parseInt(J.borderLeftWidth,10),ee=parseInt(J.borderTopWidth,10),te=parseInt(J.borderRightWidth,10),ne=parseInt(J.borderBottomWidth,10);let V=0,B=0;const re="offsetWidth"in b?b.offsetWidth-b.clientWidth-Q-te:0,ie="offsetHeight"in b?b.offsetHeight-b.clientHeight-ee-ne:0,Ce="offsetWidth"in b?b.offsetWidth===0?0:Y/b.offsetWidth:0,Ee="offsetHeight"in b?b.offsetHeight===0?0:X/b.offsetHeight:0;if(_===b)V=p==="start"?T:p==="end"?T-$:p==="nearest"?se(n,n+$,$,ee,ne,n+T,n+T+i,i):T-$/2,B=g==="start"?O:g==="center"?O-A/2:g==="end"?O-A:se(F,F+A,A,Q,te,F+O,F+O+s,s),V=Math.max(0,V+n),B=Math.max(0,B+F);else{V=p==="start"?T-G-ee:p==="end"?T-xe+ne+ie:p==="nearest"?se(G,xe,X,ee,ne+ie,T,T+i,i):T-(G+X/2)+ie/2,B=g==="start"?O-Z-Q:g==="center"?O-(Z+Y/2)+re/2:g==="end"?O-we+te+re:se(Z,we,Y,Q,te+re,O,O+s,s);const{scrollLeft:_e,scrollTop:Ae}=b;V=Ee===0?0:Math.max(0,Math.min(Ae+V/Ee,b.scrollHeight-X/Ee+ie)),B=Ce===0?0:Math.max(0,Math.min(_e+B/Ce,b.scrollWidth-Y/Ce+re)),T+=Ae-V,O+=_e-B}j.push({el:b,top:V,left:B})}return j};var U=function(){return U=Object.assign||function(r){for(var o,l=1,c=arguments.length;l<c;l++){o=arguments[l];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(r[e]=o[e])}return r},U.apply(this,arguments)};var _t=0;function Le(t){return typeof t=="function"?t:k}function k(){}function ze(t,r){if(t){var o=Mt(t,{boundary:r,block:"nearest",scrollMode:"if-needed"});o.forEach(function(l){var c=l.el,e=l.top,a=l.left;c.scrollTop=e,c.scrollLeft=a})}}function je(t,r,o){var l=t===r||r instanceof o.Node&&t.contains&&t.contains(r);return l}function Me(t,r){var o;function l(){o&&clearTimeout(o)}function c(){for(var e=arguments.length,a=new Array(e),p=0;p<e;p++)a[p]=arguments[p];l(),o=setTimeout(function(){o=null,t.apply(void 0,a)},r)}return c.cancel=l,c}function K(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return function(l){for(var c=arguments.length,e=new Array(c>1?c-1:0),a=1;a<c;a++)e[a-1]=arguments[a];return r.some(function(p){return p&&p.apply(void 0,[l].concat(e)),l.preventDownshiftDefault||l.hasOwnProperty("nativeEvent")&&l.nativeEvent.preventDownshiftDefault})}}function Ke(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return function(l){r.forEach(function(c){typeof c=="function"?c(l):c&&(c.current=l)})}}function At(){return String(_t++)}function Ft(t){var r=t.isOpen,o=t.resultCount,l=t.previousResultCount;return r?o?o!==l?o+" result"+(o===1?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function Ne(t,r){return t=Array.isArray(t)?t[0]:t,!t&&r?r:t}function $t(t){return typeof t.type=="string"}function Lt(t){return t.props}var jt=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function le(t){t===void 0&&(t={});var r={};return jt.forEach(function(o){t.hasOwnProperty(o)&&(r[o]=t[o])}),r}function Kt(t,r){return!t||!r?t:Object.keys(t).reduce(function(o,l){return o[l]=Re(r,l)?r[l]:t[l],o},{})}function Re(t,r){return t[r]!==void 0}function Ve(t){var r=t.key,o=t.keyCode;return o>=37&&o<=40&&r.indexOf("Arrow")!==0?"Arrow"+r:r}function He(t,r,o,l,c){var e=o.length;if(e===0)return-1;var a=e-1;(typeof t!="number"||t<0||t>a)&&(t=r>0?-1:a+1);var p=t+r;p<0?p=a:p>a&&(p=0);var g=ce(p,r<0,o,l,c);return g===-1?t>=e?-1:t:g}function ce(t,r,o,l,c){c===void 0&&(c=!1);var e=o.length;if(r){for(var a=t;a>=0;a--)if(!l(o[a],a))return a}else for(var p=t;p<e;p++)if(!l(o[p],p))return p;return c?ce(r?e-1:0,r,o,l):-1}function Be(t,r,o,l){return l===void 0&&(l=!0),o&&r.some(function(c){return c&&(je(c,t,o)||l&&je(c,o.document.activeElement,o))})}var Nt=Me(function(t){Xe(t).textContent=""},500);function Xe(t){var r=t.getElementById("a11y-status-message");return r||(r=t.createElement("div"),r.setAttribute("id","a11y-status-message"),r.setAttribute("role","status"),r.setAttribute("aria-live","polite"),r.setAttribute("aria-relevant","additions text"),Object.assign(r.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),t.body.appendChild(r),r)}function Ye(t,r){if(!(!t||!r)){var o=Xe(r);o.textContent=t,Nt(r)}}var Ge=0,Ze=1,Je=2,ae=3,ue=4,Qe=5,et=6,tt=7,nt=8,rt=9,it=10,ot=11,st=12,lt=13,at=14,ut=15,dt=16,Vt=Object.freeze({__proto__:null,blurButton:at,blurInput:it,changeInput:ot,clickButton:lt,clickItem:rt,controlledPropUpdatedSelectedItem:ut,itemMouseEnter:Je,keyDownArrowDown:ue,keyDownArrowUp:ae,keyDownEnd:nt,keyDownEnter:et,keyDownEscape:Qe,keyDownHome:tt,keyDownSpaceButton:st,mouseUp:Ze,touchEnd:dt,unknown:Ge}),Bt=["refKey","ref"],kt=["onClick","onPress","onKeyDown","onKeyUp","onBlur"],Wt=["onKeyDown","onBlur","onChange","onInput","onChangeText"],Ut=["refKey","ref"],qt=["onMouseMove","onMouseDown","onClick","onPress","index","item"],zt=function(){var t=function(r){function o(c){var e;e=r.call(this,c)||this,e.id=e.props.id||"downshift-"+At(),e.menuId=e.props.menuId||e.id+"-menu",e.labelId=e.props.labelId||e.id+"-label",e.inputId=e.props.inputId||e.id+"-input",e.getItemId=e.props.getItemId||function(n){return e.id+"-item-"+n},e.items=[],e.itemCount=null,e.previousResultCount=0,e.timeoutIds=[],e.internalSetTimeout=function(n,i){var s=setTimeout(function(){e.timeoutIds=e.timeoutIds.filter(function(d){return d!==s}),n()},i);e.timeoutIds.push(s)},e.setItemCount=function(n){e.itemCount=n},e.unsetItemCount=function(){e.itemCount=null},e.isItemDisabled=function(n,i){var s=e.getItemNodeFromIndex(i);return s&&s.hasAttribute("disabled")},e.setHighlightedIndex=function(n,i){n===void 0&&(n=e.props.defaultHighlightedIndex),i===void 0&&(i={}),i=le(i),e.internalSetState(R({highlightedIndex:n},i))},e.clearSelection=function(n){e.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:e.props.defaultHighlightedIndex,isOpen:e.props.defaultIsOpen},n)},e.selectItem=function(n,i,s){i=le(i),e.internalSetState(R({isOpen:e.props.defaultIsOpen,highlightedIndex:e.props.defaultHighlightedIndex,selectedItem:n,inputValue:e.props.itemToString(n)},i),s)},e.selectItemAtIndex=function(n,i,s){var d=e.items[n];d!=null&&e.selectItem(d,i,s)},e.selectHighlightedItem=function(n,i){return e.selectItemAtIndex(e.getState().highlightedIndex,n,i)},e.internalSetState=function(n,i){var s,d,u={},m=typeof n=="function";return!m&&n.hasOwnProperty("inputValue")&&e.props.onInputValueChange(n.inputValue,R({},e.getStateAndHelpers(),n)),e.setState(function(h){var w;h=e.getState(h);var v=m?n(h):n;v=e.props.stateReducer(h,v),s=v.hasOwnProperty("selectedItem");var D={};return s&&v.selectedItem!==h.selectedItem&&(d=v.selectedItem),(w=v).type||(w.type=Ge),Object.keys(v).forEach(function(E){h[E]!==v[E]&&(u[E]=v[E]),E!=="type"&&(v[E],Re(e.props,E)||(D[E]=v[E]))}),m&&v.hasOwnProperty("inputValue")&&e.props.onInputValueChange(v.inputValue,R({},e.getStateAndHelpers(),v)),D},function(){Le(i)();var h=Object.keys(u).length>1;h&&e.props.onStateChange(u,e.getStateAndHelpers()),s&&e.props.onSelect(n.selectedItem,e.getStateAndHelpers()),d!==void 0&&e.props.onChange(d,e.getStateAndHelpers()),e.props.onUserAction(u,e.getStateAndHelpers())})},e.rootRef=function(n){return e._rootNode=n},e.getRootProps=function(n,i){var s,d=n===void 0?{}:n,u=d.refKey,m=u===void 0?"ref":u,h=d.ref,w=q(d,Bt),v=i===void 0?{}:i,D=v.suppressRefError,E=D===void 0?!1:D;e.getRootProps.called=!0,e.getRootProps.refKey=m,e.getRootProps.suppressRefError=E;var T=e.getState(),O=T.isOpen;return R((s={},s[m]=Ke(h,e.rootRef),s.role="combobox",s["aria-expanded"]=O,s["aria-haspopup"]="listbox",s["aria-owns"]=O?e.menuId:void 0,s["aria-labelledby"]=e.labelId,s),w)},e.keyDownHandlers={ArrowDown:function(i){var s=this;if(i.preventDefault(),this.getState().isOpen){var d=i.shiftKey?5:1;this.moveHighlightedIndex(d,{type:ue})}else this.internalSetState({isOpen:!0,type:ue},function(){var u=s.getItemCount();if(u>0){var m=s.getState(),h=m.highlightedIndex,w=He(h,1,{length:u},s.isItemDisabled,!0);s.setHighlightedIndex(w,{type:ue})}})},ArrowUp:function(i){var s=this;if(i.preventDefault(),this.getState().isOpen){var d=i.shiftKey?-5:-1;this.moveHighlightedIndex(d,{type:ae})}else this.internalSetState({isOpen:!0,type:ae},function(){var u=s.getItemCount();if(u>0){var m=s.getState(),h=m.highlightedIndex,w=He(h,-1,{length:u},s.isItemDisabled,!0);s.setHighlightedIndex(w,{type:ae})}})},Enter:function(i){if(i.which!==229){var s=this.getState(),d=s.isOpen,u=s.highlightedIndex;if(d&&u!=null){i.preventDefault();var m=this.items[u],h=this.getItemNodeFromIndex(u);if(m==null||h&&h.hasAttribute("disabled"))return;this.selectHighlightedItem({type:et})}}},Escape:function(i){i.preventDefault(),this.reset(R({type:Qe},!this.state.isOpen&&{selectedItem:null,inputValue:""}))}},e.buttonKeyDownHandlers=R({},e.keyDownHandlers,{" ":function(i){i.preventDefault(),this.toggleMenu({type:st})}}),e.inputKeyDownHandlers=R({},e.keyDownHandlers,{Home:function(i){var s=this.getState(),d=s.isOpen;if(d){i.preventDefault();var u=this.getItemCount();if(!(u<=0||!d)){var m=ce(0,!1,{length:u},this.isItemDisabled);this.setHighlightedIndex(m,{type:tt})}}},End:function(i){var s=this.getState(),d=s.isOpen;if(d){i.preventDefault();var u=this.getItemCount();if(!(u<=0||!d)){var m=ce(u-1,!0,{length:u},this.isItemDisabled);this.setHighlightedIndex(m,{type:nt})}}}}),e.getToggleButtonProps=function(n){var i=n===void 0?{}:n,s=i.onClick;i.onPress;var d=i.onKeyDown,u=i.onKeyUp,m=i.onBlur,h=q(i,kt),w=e.getState(),v=w.isOpen,D={onClick:K(s,e.buttonHandleClick),onKeyDown:K(d,e.buttonHandleKeyDown),onKeyUp:K(u,e.buttonHandleKeyUp),onBlur:K(m,e.buttonHandleBlur)},E=h.disabled?{}:D;return R({type:"button",role:"button","aria-label":v?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},E,h)},e.buttonHandleKeyUp=function(n){n.preventDefault()},e.buttonHandleKeyDown=function(n){var i=Ve(n);e.buttonKeyDownHandlers[i]&&e.buttonKeyDownHandlers[i].call(e,n)},e.buttonHandleClick=function(n){if(n.preventDefault(),e.props.environment){var i=e.props.environment.document,s=i.body,d=i.activeElement;s&&s===d&&n.target.focus()}e.internalSetTimeout(function(){return e.toggleMenu({type:lt})})},e.buttonHandleBlur=function(n){var i=n.target;e.internalSetTimeout(function(){if(!(e.isMouseDown||!e.props.environment)){var s=e.props.environment.document.activeElement;(s==null||s.id!==e.inputId)&&s!==i&&e.reset({type:at})}})},e.getLabelProps=function(n){return R({htmlFor:e.inputId,id:e.labelId},n)},e.getInputProps=function(n){var i=n===void 0?{}:n,s=i.onKeyDown,d=i.onBlur,u=i.onChange,m=i.onInput;i.onChangeText;var h=q(i,Wt),w,v={};w="onChange";var D=e.getState(),E=D.inputValue,T=D.isOpen,O=D.highlightedIndex;if(!h.disabled){var j;v=(j={},j[w]=K(u,m,e.inputHandleChange),j.onKeyDown=K(s,e.inputHandleKeyDown),j.onBlur=K(d,e.inputHandleBlur),j)}return R({"aria-autocomplete":"list","aria-activedescendant":T&&typeof O=="number"&&O>=0?e.getItemId(O):void 0,"aria-controls":T?e.menuId:void 0,"aria-labelledby":h&&h["aria-label"]?void 0:e.labelId,autoComplete:"off",value:E,id:e.inputId},v,h)},e.inputHandleKeyDown=function(n){var i=Ve(n);i&&e.inputKeyDownHandlers[i]&&e.inputKeyDownHandlers[i].call(e,n)},e.inputHandleChange=function(n){e.internalSetState({type:ot,isOpen:!0,inputValue:n.target.value,highlightedIndex:e.props.defaultHighlightedIndex})},e.inputHandleBlur=function(){e.internalSetTimeout(function(){var n;if(!(e.isMouseDown||!e.props.environment)){var i=e.props.environment.document.activeElement,s=(i==null||(n=i.dataset)==null?void 0:n.toggle)&&e._rootNode&&e._rootNode.contains(i);s||e.reset({type:it})}})},e.menuRef=function(n){e._menuNode=n},e.getMenuProps=function(n,i){var s,d=n===void 0?{}:n,u=d.refKey,m=u===void 0?"ref":u,h=d.ref,w=q(d,Ut),v=i===void 0?{}:i,D=v.suppressRefError,E=D===void 0?!1:D;return e.getMenuProps.called=!0,e.getMenuProps.refKey=m,e.getMenuProps.suppressRefError=E,R((s={},s[m]=Ke(h,e.menuRef),s.role="listbox",s["aria-labelledby"]=w&&w["aria-label"]?void 0:e.labelId,s.id=e.menuId,s),w)},e.getItemProps=function(n){var i,s=n===void 0?{}:n,d=s.onMouseMove,u=s.onMouseDown,m=s.onClick;s.onPress;var h=s.index,w=s.item,v=w===void 0?void 0:w,D=q(s,qt);h===void 0?(e.items.push(v),h=e.items.indexOf(v)):e.items[h]=v;var E="onClick",T=m,O=(i={onMouseMove:K(d,function(){h!==e.getState().highlightedIndex&&(e.setHighlightedIndex(h,{type:Je}),e.avoidScrolling=!0,e.internalSetTimeout(function(){return e.avoidScrolling=!1},250))}),onMouseDown:K(u,function(N){N.preventDefault()})},i[E]=K(T,function(){e.selectItemAtIndex(h,{type:rt})}),i),j=D.disabled?{onMouseDown:O.onMouseDown}:O;return R({id:e.getItemId(h),role:"option","aria-selected":e.getState().highlightedIndex===h},j,D)},e.clearItems=function(){e.items=[]},e.reset=function(n,i){n===void 0&&(n={}),n=le(n),e.internalSetState(function(s){var d=s.selectedItem;return R({isOpen:e.props.defaultIsOpen,highlightedIndex:e.props.defaultHighlightedIndex,inputValue:e.props.itemToString(d)},n)},i)},e.toggleMenu=function(n,i){n===void 0&&(n={}),n=le(n),e.internalSetState(function(s){var d=s.isOpen;return R({isOpen:!d},d&&{highlightedIndex:e.props.defaultHighlightedIndex},n)},function(){var s=e.getState(),d=s.isOpen,u=s.highlightedIndex;d&&e.getItemCount()>0&&typeof u=="number"&&e.setHighlightedIndex(u,n),Le(i)()})},e.openMenu=function(n){e.internalSetState({isOpen:!0},n)},e.closeMenu=function(n){e.internalSetState({isOpen:!1},n)},e.updateStatus=Me(function(){var n;if((n=e.props)!=null&&(n=n.environment)!=null&&n.document){var i=e.getState(),s=e.items[i.highlightedIndex],d=e.getItemCount(),u=e.props.getA11yStatusMessage(R({itemToString:e.props.itemToString,previousResultCount:e.previousResultCount,resultCount:d,highlightedItem:s},i));e.previousResultCount=d,Ye(u,e.props.environment.document)}},200);var a=e.props,p=a.defaultHighlightedIndex,g=a.initialHighlightedIndex,x=g===void 0?p:g,M=a.defaultIsOpen,H=a.initialIsOpen,_=H===void 0?M:H,I=a.initialInputValue,C=I===void 0?"":I,A=a.initialSelectedItem,$=A===void 0?null:A,F=e.getState({highlightedIndex:x,isOpen:_,inputValue:C,selectedItem:$});return F.selectedItem!=null&&e.props.initialInputValue===void 0&&(F.inputValue=e.props.itemToString(F.selectedItem)),e.state=F,e}xt(o,r);var l=o.prototype;return l.internalClearTimeouts=function(){this.timeoutIds.forEach(function(e){clearTimeout(e)}),this.timeoutIds=[]},l.getState=function(e){return e===void 0&&(e=this.state),Kt(e,this.props)},l.getItemCount=function(){var e=this.items.length;return this.itemCount!=null?e=this.itemCount:this.props.itemCount!==void 0&&(e=this.props.itemCount),e},l.getItemNodeFromIndex=function(e){return this.props.environment?this.props.environment.document.getElementById(this.getItemId(e)):null},l.scrollHighlightedItemIntoView=function(){{var e=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(e,this._menuNode)}},l.moveHighlightedIndex=function(e,a){var p=this.getItemCount(),g=this.getState(),x=g.highlightedIndex;if(p>0){var M=He(x,e,{length:p},this.isItemDisabled,!0);this.setHighlightedIndex(M,a)}},l.getStateAndHelpers=function(){var e=this.getState(),a=e.highlightedIndex,p=e.inputValue,g=e.selectedItem,x=e.isOpen,M=this.props.itemToString,H=this.id,_=this.getRootProps,I=this.getToggleButtonProps,C=this.getLabelProps,A=this.getMenuProps,$=this.getInputProps,F=this.getItemProps,n=this.openMenu,i=this.closeMenu,s=this.toggleMenu,d=this.selectItem,u=this.selectItemAtIndex,m=this.selectHighlightedItem,h=this.setHighlightedIndex,w=this.clearSelection,v=this.clearItems,D=this.reset,E=this.setItemCount,T=this.unsetItemCount,O=this.internalSetState;return{getRootProps:_,getToggleButtonProps:I,getLabelProps:C,getMenuProps:A,getInputProps:$,getItemProps:F,reset:D,openMenu:n,closeMenu:i,toggleMenu:s,selectItem:d,selectItemAtIndex:u,selectHighlightedItem:m,setHighlightedIndex:h,clearSelection:w,clearItems:v,setItemCount:E,unsetItemCount:T,setState:O,itemToString:M,id:H,highlightedIndex:a,inputValue:p,isOpen:x,selectedItem:g}},l.componentDidMount=function(){var e=this;if(!this.props.environment)this.cleanup=function(){e.internalClearTimeouts()};else{var a=function(){e.isMouseDown=!0},p=function(I){e.isMouseDown=!1;var C=Be(I.target,[e._rootNode,e._menuNode],e.props.environment);!C&&e.getState().isOpen&&e.reset({type:Ze},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},g=function(){e.isTouchMove=!1},x=function(){e.isTouchMove=!0},M=function(I){var C=Be(I.target,[e._rootNode,e._menuNode],e.props.environment,!1);!e.isTouchMove&&!C&&e.getState().isOpen&&e.reset({type:dt},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},H=this.props.environment;H.addEventListener("mousedown",a),H.addEventListener("mouseup",p),H.addEventListener("touchstart",g),H.addEventListener("touchmove",x),H.addEventListener("touchend",M),this.cleanup=function(){e.internalClearTimeouts(),e.updateStatus.cancel(),H.removeEventListener("mousedown",a),H.removeEventListener("mouseup",p),H.removeEventListener("touchstart",g),H.removeEventListener("touchmove",x),H.removeEventListener("touchend",M)}}},l.shouldScroll=function(e,a){var p=this.props.highlightedIndex===void 0?this.getState():this.props,g=p.highlightedIndex,x=a.highlightedIndex===void 0?e:a,M=x.highlightedIndex,H=g&&this.getState().isOpen&&!e.isOpen,_=g!==M;return H||_},l.componentDidUpdate=function(e,a){Re(this.props,"selectedItem")&&this.props.selectedItemChanged(e.selectedItem,this.props.selectedItem)&&this.internalSetState({type:ut,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(a,e)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},l.componentWillUnmount=function(){this.cleanup()},l.render=function(){var e=Ne(this.props.children,k);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var a=Ne(e(this.getStateAndHelpers()));if(!a)return null;if(this.getRootProps.called||this.props.suppressRefError)return a;if($t(a))return P.cloneElement(a,this.getRootProps(Lt(a)))},o}(P.Component);return t.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:Ft,itemToString:function(o){return o==null?"":String(o)},onStateChange:k,onInputValueChange:k,onUserAction:k,onChange:k,onSelect:k,onOuterClick:k,selectedItemChanged:function(o,l){return o!==l},environment:typeof window>"u"?void 0:window,stateReducer:function(o,l){return l},suppressRefError:!1,scrollIntoView:ze},t.stateChangeTypes=Vt,t}(),Xt=zt;function Yt(t,r){return r.changes}Me(function(t,r){Ye(t,r)},200);var z={itemToString:function(r){return r?String(r):""},itemToKey:function(r){return r},stateReducer:Yt,scrollIntoView:ze,environment:typeof window>"u"?void 0:window},de={environment:f.shape({addEventListener:f.func.isRequired,removeEventListener:f.func.isRequired,document:f.shape({createElement:f.func.isRequired,getElementById:f.func.isRequired,activeElement:f.any.isRequired,body:f.any.isRequired}).isRequired,Node:f.func.isRequired}),itemToString:f.func,itemToKey:f.func,stateReducer:f.func},ct=R({},de,{getA11yStatusMessage:f.func,highlightedIndex:f.number,defaultHighlightedIndex:f.number,initialHighlightedIndex:f.number,isOpen:f.bool,defaultIsOpen:f.bool,initialIsOpen:f.bool,selectedItem:f.any,initialSelectedItem:f.any,defaultSelectedItem:f.any,id:f.string,labelId:f.string,menuId:f.string,getItemId:f.func,toggleButtonId:f.string,onSelectedItemChange:f.func,onHighlightedIndexChange:f.func,onStateChange:f.func,onIsOpenChange:f.func,scrollIntoView:f.func});U(U({},ct),{items:f.array.isRequired,isItemDisabled:f.func});U(U({},z),{isItemDisabled:function(){return!1}});R({},ct,{items:f.array.isRequired,isItemDisabled:f.func,inputValue:f.string,defaultInputValue:f.string,initialInputValue:f.string,inputId:f.string,onInputValueChange:f.func});R({},z,{isItemDisabled:function(){return!1}});de.stateReducer,de.itemToKey,de.environment,f.array,f.array,f.array,f.func,f.number,f.number,f.number,f.func,f.func,f.string,f.string;z.itemToKey,z.stateReducer,z.environment;function Gt({items:t=[],label:r,placeholder:o=null,onChange:l,onFocus:c}){const e=P.useRef(null),[a,p]=P.useState(!1);P.useEffect(()=>{e.current&&setTimeout(()=>{p(!0)},0)},[e.current]);const[g,x]=P.useState(!1),M=I=>{x(!1),c&&c(I),setTimeout(()=>x(!0),1)},H=I=>{x(!1)},_=I=>{console.log(I),l&&l(I)};return S.jsx(Xt,{onChange:_,itemToString:I=>I?(I==null?void 0:I.label)||I.value:"",children:({getInputProps:I,getItemProps:C,getLabelProps:A,getMenuProps:$,isOpen:F,inputValue:n,highlightedIndex:i,selectedItem:s,getRootProps:d})=>S.jsxs("div",{ref:e,className:`Combobox ${a?"init":""} ${g?"open":""}`,children:[S.jsxs("label",{...A(),children:[r,S.jsx("div",{className:"input-wrapper",...d({},{suppressRefError:!0}),children:S.jsx("input",{...I(),placeholder:o,onFocus:M,onClick:M,onBlur:H})})]}),S.jsx("ul",{className:`results ${g?"open":""}`,...$(),children:t.length&&g?t.filter(u=>!n||((u==null?void 0:u.label)||u.value).toLowerCase().includes(n.toLowerCase())).map((u,m)=>S.jsx("li",{className:`item ${i===m?"highlighted":""}`,...C({index:m,item:u,style:{fontWeight:s===u?"bold":"normal"}}),children:(u==null?void 0:u.label)||u.value},(u==null?void 0:u.label)||u.value)):null})]})})}function Oe(){const t={loading:!1,error:null,data:null},r=(e,a)=>{switch(a.type){case W.FETCH_START:return{...e,loading:!0,error:null};case W.FETCH_SUCCESS:return{...e,loading:!1,data:a.payload};case W.FETCH_FAILURE:return{...e,loading:!1,error:a.payload};default:return e}},[o,l]=P.useReducer(r,t);return{state:o,get:async e=>{l({type:W.FETCH_START});try{const a=await axios(e);return l({type:W.FETCH_SUCCESS,payload:a.data}),a}catch(a){return l({type:W.FETCH_FAILURE,payload:a.message}),a}}}}const W={FETCH_START:"FETCH_START",FETCH_SUCCESS:"FETCH_SUCCESS",FETCH_FAILURE:"FETCH_FAILURE"};function cn(){const[t,r]=P.useState(null),[o,l]=P.useState(null),[c,e]=P.useState([]),[a,p]=P.useState(null),[g,x]=P.useState(null),M=ft();vt("home");const H=It(),_=Oe(),I=Oe(),C=Oe();P.useEffect(()=>{_.get("/api/fishes").then(n=>r(n.data.fishes)),I.get("/api/locations").then(n=>l(n.data.locations))},[]),P.useEffect(()=>{const n=M.get("settings",i=>i.selectedFish);n&&p(n)},[]);const A=n=>{let i;a===n?i=null:i=n,M.set("settings",s=>s.selectedFish=i),p(i)},$=n=>{x(n)};P.useEffect(()=>{var n;if(g){e([]);let i="/api/fishByLocation/"+g.value.locationId;i+="/"+(((n=g.value)==null?void 0:n.waterId)??0),i+="/"+(a??0),C.get(i).then(s=>{e(s.data.limits)})}},[g,a]);const F=n=>{const i=n.target,s=i.closest(".Combobox");s.addEventListener("transitionstart",()=>s.addEventListener("transitionend",()=>{var d;return(d=i.parentElement)==null?void 0:d.scrollIntoView({behavior:"smooth",block:"start"})},{once:!0}),{once:!0})};return S.jsxs(ht,{className:`Home ${g?"location-selected":""}`,children:[S.jsx("header",{children:S.jsx(gt,{children:S.jsxs("h1",{className:"hero",children:["Smart ",S.jsx("span",{children:"Fish"})]})})}),S.jsxs("main",{children:[t!==null&&o!==null&&S.jsxs("div",{className:"layout",children:[S.jsx("div",{className:"header",children:g&&S.jsxs("button",{onClick:()=>x(null),className:"selected-location flex items-center gap-2",children:[S.jsx("strong",{children:g.label.split("/").map(n=>S.jsx("span",{children:n}))}),S.jsx(wt,{className:"w-5 h-5"})]})}),S.jsx("div",{className:"body",children:g?S.jsx(mt,{limits:c,fishes:t}):S.jsx(Gt,{items:Object.keys(o).map(n=>({value:o[n],label:n})),onChange:$,onFocus:F,placeholder:"Search by river, lake or region"})})]}),S.jsx("div",{className:"logo",children:S.jsx("img",{src:"/images/logo.png"})})]}),S.jsx("footer",{children:H.isMobile?S.jsx(yt,{fishes:t,selectedFishId:a,selectFish:A}):S.jsx(St,{fishes:t,selectedFishId:a,selectFish:A})})]})}export{cn as default};
