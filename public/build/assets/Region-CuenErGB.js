import{r,j as e,x as j}from"./app-Imqrxz3t.js";import{P as p}from"./PublicLayout-Oe7jrtDa.js";import{P as g,B as R}from"./PublicNav-B1da4_EA.js";import"./ResponsiveNavLink-CdEPYA_M.js";import"./transition-DTALWyfT.js";function P({waters:c,breadcrumb:d}){console.log(c);const[h,w]=r.useState(c),[t,i]=r.useState([]),[n,f]=r.useState(""),a=r.useRef(null),o=r.useRef(null);r.useEffect(()=>{a.current&&a.current.focus()},[a.current]);const m=s=>{const l=s.target.value;if(f(l),console.log(l),l.length){const x=h.filter(u=>u.water?u.water.name.toLowerCase().includes(l.trim().toLowerCase()):!1);i(x)}else i([])};return r.useEffect(()=>{o.current&&n&&t.length},[t,n]),e.jsxs(p,{children:[e.jsx("header",{children:e.jsx(g,{children:e.jsx(R,{breadcrumb:d})})}),e.jsx("main",{children:e.jsx("div",{className:"Region",children:e.jsxs("div",{className:"autocomplete",children:[e.jsx("header",{children:e.jsxs("label",{children:[e.jsx("span",{children:"Search by Waters"}),e.jsx("input",{ref:a,onChange:m,placeholder:'hint: Try searching "lake" or "stream"'})]})}),e.jsx("div",{className:"results has-results",children:e.jsx("ul",{ref:o,className:"",children:t.length?t.map(s=>s!=null&&s.water?e.jsx("li",{children:e.jsx(j,{href:route("water.page",{id:s.water.id}),children:s.water.name})}):null):n?e.jsx("div",{children:"(no results)"}):null})})]})})})]})}export{P as default};
