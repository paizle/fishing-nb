import{r as n,j as s}from"./app-hti74d3x.js";import{P as m}from"./PublicLayout-C3euIlMc.js";import{P as h}from"./PublicNav-CliBI9FF.js";import j from"./FeaturesMap-DkyZvBvt.js";import x from"./Sidebar-B0h0czSs.js";import{L as E}from"./LoadingSpinner-BxlAb1i-.js";import"./ResponsiveNavLink-bJUzw8Tw.js";import"./transition-L-H9KNnr.js";import"./index-B2J4XDE4.js";function S({apiLastModified:f}){const[o,p]=n.useState(null),[c,l]=n.useState(),[d,a]=n.useState();n.useEffect(()=>{async function e(){const r=await(await fetch("/waters.geojson",{cache:"default"})).json();p(r)}e()},[]);const u=e=>{const t=o.features.find(r=>r.properties.OBJECTID===e);l(t)},i=e=>{const t=o.features.find(r=>r.properties.OBJECTID===e);a(t)};return s.jsxs(m,{className:"WatersMap",children:[s.jsx("header",{children:s.jsx(h,{children:s.jsxs("h1",{className:"hero",children:["Smart ",s.jsx("span",{children:"Fish"})]})})}),s.jsxs("main",{children:[s.jsx(j,{geoJson:c,highlightedGeoJson:d}),s.jsx(x,{children:o?s.jsx("ul",{onMouseLeave:()=>a(null),children:o.features.map(e=>s.jsx("li",{children:s.jsx("button",{className:e.properties.NAME1||e.properties.LOCALNAME?"":"no-name",onClick:()=>u(e.properties.OBJECTID),onMouseEnter:()=>i(e.properties.OBJECTID),onMouseDown:()=>i(e.properties.OBJECTID),children:e.properties.NAME1||e.properties.LOCALNAME||`NID: ${e.properties.NID}`})},e.properties.OBJECTID))}):s.jsx(E,{})})]})]})}export{S as default};
