import{r as P,j as w}from"./app-DcVFl9p3.js";import{u as ut,P as at}from"./PublicLayout-CiZx_dOm.js";import{P as dt}from"./PublicNav-WiKnO-EG.js";import{P as h}from"./FishRestrictionsTable-B49B66A2.js";import{u as ct}from"./useLandingPage-DOMrEREy.js";import{u as pt}from"./useScreenOrientation-DZ87e03B.js";import ft from"./SelectFishMobile-DwrE46r4.js";import ht from"./SelectFishDesktop-Dt3eHE2S.js";import gt from"./FishingRestrictions-wRYdIxSR.js";import"./ResponsiveNavLink-BLVtu2gi.js";import"./transition-DiL0ddrG.js";import"./format-CU-xZK7a.js";import"./getFishImageSrc-bMjek-YH.js";import"./parseMySqlDate-DjqKqIUd.js";function mt({title:t,titleId:n,...o},l){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":n},o),t?P.createElement("title",{id:n},t):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const vt=P.forwardRef(mt);function U(t,n){if(t==null)return{};var o={};for(var l in t)if({}.hasOwnProperty.call(t,l)){if(n.includes(l))continue;o[l]=t[l]}return o}function R(){return R=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var l in o)({}).hasOwnProperty.call(o,l)&&(t[l]=o[l])}return t},R.apply(null,arguments)}function Oe(t,n){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},Oe(t,n)}function It(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,Oe(t,n)}var x={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Re=Symbol.for("react.element"),Me=Symbol.for("react.portal"),ce=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),fe=Symbol.for("react.profiler"),he=Symbol.for("react.provider"),ge=Symbol.for("react.context"),yt=Symbol.for("react.server_context"),me=Symbol.for("react.forward_ref"),ve=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),bt=Symbol.for("react.offscreen"),Be;Be=Symbol.for("react.module.reference");function K(t){if(typeof t=="object"&&t!==null){var n=t.$$typeof;switch(n){case Re:switch(t=t.type,t){case ce:case fe:case pe:case ve:case Ie:return t;default:switch(t=t&&t.$$typeof,t){case yt:case ge:case me:case be:case ye:case he:return t;default:return n}}case Me:return n}}}x.ContextConsumer=ge;x.ContextProvider=he;x.Element=Re;x.ForwardRef=me;x.Fragment=ce;x.Lazy=be;x.Memo=ye;x.Portal=Me;x.Profiler=fe;x.StrictMode=pe;x.Suspense=ve;x.SuspenseList=Ie;x.isAsyncMode=function(){return!1};x.isConcurrentMode=function(){return!1};x.isContextConsumer=function(t){return K(t)===ge};x.isContextProvider=function(t){return K(t)===he};x.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Re};x.isForwardRef=function(t){return K(t)===me};x.isFragment=function(t){return K(t)===ce};x.isLazy=function(t){return K(t)===be};x.isMemo=function(t){return K(t)===ye};x.isPortal=function(t){return K(t)===Me};x.isProfiler=function(t){return K(t)===fe};x.isStrictMode=function(t){return K(t)===pe};x.isSuspense=function(t){return K(t)===ve};x.isSuspenseList=function(t){return K(t)===Ie};x.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ce||t===fe||t===pe||t===ve||t===Ie||t===bt||typeof t=="object"&&t!==null&&(t.$$typeof===be||t.$$typeof===ye||t.$$typeof===he||t.$$typeof===ge||t.$$typeof===me||t.$$typeof===Be||t.getModuleId!==void 0)};x.typeOf=K;const Te=t=>typeof t=="object"&&t!=null&&t.nodeType===1,je=(t,n)=>(!n||t!=="hidden")&&t!=="visible"&&t!=="clip",ie=(t,n)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const o=getComputedStyle(t,null);return je(o.overflowY,n)||je(o.overflowX,n)||(l=>{const f=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch{return null}})(l);return!!f&&(f.clientHeight<l.scrollHeight||f.clientWidth<l.scrollWidth)})(t)}return!1},oe=(t,n,o,l,f,e,a,d)=>e<t&&a>n||e>t&&a<n?0:e<=t&&d<=o||a>=n&&d>=o?e-t-l:a>n&&d<o||e<t&&d>o?a-n+f:0,St=t=>{const n=t.parentElement;return n??(t.getRootNode().host||null)},wt=(t,n)=>{var o,l,f,e;if(typeof document>"u")return[];const{scrollMode:a,block:d,inline:m,boundary:v,skipOverflowHiddenElements:$}=n,E=typeof v=="function"?v:N=>N!==v;if(!Te(t))throw new TypeError("Invalid target");const A=document.scrollingElement||document.documentElement,b=[];let O=t;for(;Te(O)&&E(O);){if(O=St(O),O===A){b.push(O);break}O!=null&&O===document.body&&ie(O)&&!ie(document.documentElement)||O!=null&&ie(O,$)&&b.push(O)}const T=(l=(o=window.visualViewport)==null?void 0:o.width)!=null?l:innerWidth,_=(e=(f=window.visualViewport)==null?void 0:f.height)!=null?e:innerHeight,{scrollX:j,scrollY:r}=window,{height:i,width:s,top:u,right:c,bottom:g,left:p}=t.getBoundingClientRect(),{top:y,right:I,bottom:S,left:C}=(N=>{const H=window.getComputedStyle(N);return{top:parseFloat(H.scrollMarginTop)||0,right:parseFloat(H.scrollMarginRight)||0,bottom:parseFloat(H.scrollMarginBottom)||0,left:parseFloat(H.scrollMarginLeft)||0}})(t);let M=d==="start"||d==="nearest"?u-y:d==="end"?g+S:u+i/2-y+S,D=m==="center"?p+s/2-C+I:m==="end"?c+I:p-C;const F=[];for(let N=0;N<b.length;N++){const H=b[N],{height:z,width:X,top:Y,right:Se,bottom:we,left:Z}=H.getBoundingClientRect();if(a==="if-needed"&&u>=0&&p>=0&&g<=_&&c<=T&&(H===A&&!ie(H)||u>=Y&&g<=we&&p>=Z&&c<=Se))return F;const G=getComputedStyle(H),J=parseInt(G.borderLeftWidth,10),Q=parseInt(G.borderTopWidth,10),ee=parseInt(G.borderRightWidth,10),te=parseInt(G.borderBottomWidth,10);let V=0,B=0;const ne="offsetWidth"in H?H.offsetWidth-H.clientWidth-J-ee:0,re="offsetHeight"in H?H.offsetHeight-H.clientHeight-Q-te:0,xe="offsetWidth"in H?H.offsetWidth===0?0:X/H.offsetWidth:0,Ce="offsetHeight"in H?H.offsetHeight===0?0:z/H.offsetHeight:0;if(A===H)V=d==="start"?M:d==="end"?M-_:d==="nearest"?oe(r,r+_,_,Q,te,r+M,r+M+i,i):M-_/2,B=m==="start"?D:m==="center"?D-T/2:m==="end"?D-T:oe(j,j+T,T,J,ee,j+D,j+D+s,s),V=Math.max(0,V+r),B=Math.max(0,B+j);else{V=d==="start"?M-Y-Q:d==="end"?M-we+te+re:d==="nearest"?oe(Y,we,z,Q,te+re,M,M+i,i):M-(Y+z/2)+re/2,B=m==="start"?D-Z-J:m==="center"?D-(Z+X/2)+ne/2:m==="end"?D-Se+ee+ne:oe(Z,Se,X,J,ee+ne,D,D+s,s);const{scrollLeft:$e,scrollTop:Ae}=H;V=Ce===0?0:Math.max(0,Math.min(Ae+V/Ce,H.scrollHeight-z/Ce+re)),B=xe===0?0:Math.max(0,Math.min($e+B/xe,H.scrollWidth-X/xe+ne)),M+=Ae-V,D+=$e-B}F.push({el:H,top:V,left:B})}return F};var W=function(){return W=Object.assign||function(n){for(var o,l=1,f=arguments.length;l<f;l++){o=arguments[l];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(n[e]=o[e])}return n},W.apply(this,arguments)};var xt=0;function _e(t){return typeof t=="function"?t:k}function k(){}function ke(t,n){if(t){var o=wt(t,{boundary:n,block:"nearest",scrollMode:"if-needed"});o.forEach(function(l){var f=l.el,e=l.top,a=l.left;f.scrollTop=e,f.scrollLeft=a})}}function Ke(t,n,o){var l=t===n||n instanceof o.Node&&t.contains&&t.contains(n);return l}function Pe(t,n){var o;function l(){o&&clearTimeout(o)}function f(){for(var e=arguments.length,a=new Array(e),d=0;d<e;d++)a[d]=arguments[d];l(),o=setTimeout(function(){o=null,t.apply(void 0,a)},n)}return f.cancel=l,f}function L(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(l){for(var f=arguments.length,e=new Array(f>1?f-1:0),a=1;a<f;a++)e[a-1]=arguments[a];return n.some(function(d){return d&&d.apply(void 0,[l].concat(e)),l.preventDownshiftDefault||l.hasOwnProperty("nativeEvent")&&l.nativeEvent.preventDownshiftDefault})}}function Fe(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return function(l){n.forEach(function(f){typeof f=="function"?f(l):f&&(f.current=l)})}}function Ct(){return String(xt++)}function Ht(t){var n=t.isOpen,o=t.resultCount,l=t.previousResultCount;return n?o?o!==l?o+" result"+(o===1?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function Le(t,n){return t=Array.isArray(t)?t[0]:t,!t&&n?n:t}function Et(t){return typeof t.type=="string"}function Ot(t){return t.props}var Dt=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function se(t){t===void 0&&(t={});var n={};return Dt.forEach(function(o){t.hasOwnProperty(o)&&(n[o]=t[o])}),n}function Rt(t,n){return!t||!n?t:Object.keys(t).reduce(function(o,l){return o[l]=De(n,l)?n[l]:t[l],o},{})}function De(t,n){return t[n]!==void 0}function Ne(t){var n=t.key,o=t.keyCode;return o>=37&&o<=40&&n.indexOf("Arrow")!==0?"Arrow"+n:n}function He(t,n,o,l,f){var e=o.length;if(e===0)return-1;var a=e-1;(typeof t!="number"||t<0||t>a)&&(t=n>0?-1:a+1);var d=t+n;d<0?d=a:d>a&&(d=0);var m=de(d,n<0,o,l,f);return m===-1?t>=e?-1:t:m}function de(t,n,o,l,f){f===void 0&&(f=!1);var e=o.length;if(n){for(var a=t;a>=0;a--)if(!l(o[a],a))return a}else for(var d=t;d<e;d++)if(!l(o[d],d))return d;return f?de(n?e-1:0,n,o,l):-1}function Ve(t,n,o,l){return l===void 0&&(l=!0),o&&n.some(function(f){return f&&(Ke(f,t,o)||l&&Ke(f,o.document.activeElement,o))})}var Mt=Pe(function(t){We(t).textContent=""},500);function We(t){var n=t.getElementById("a11y-status-message");return n||(n=t.createElement("div"),n.setAttribute("id","a11y-status-message"),n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-relevant","additions text"),Object.assign(n.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),t.body.appendChild(n),n)}function Ue(t,n){if(!(!t||!n)){var o=We(n);o.textContent=t,Mt(n)}}var qe=0,ze=1,Xe=2,le=3,ue=4,Ye=5,Ze=6,Ge=7,Je=8,Qe=9,et=10,tt=11,nt=12,rt=13,it=14,ot=15,st=16,Pt=Object.freeze({__proto__:null,blurButton:it,blurInput:et,changeInput:tt,clickButton:rt,clickItem:Qe,controlledPropUpdatedSelectedItem:ot,itemMouseEnter:Xe,keyDownArrowDown:ue,keyDownArrowUp:le,keyDownEnd:Je,keyDownEnter:Ze,keyDownEscape:Ye,keyDownHome:Ge,keyDownSpaceButton:nt,mouseUp:ze,touchEnd:st,unknown:qe}),$t=["refKey","ref"],At=["onClick","onPress","onKeyDown","onKeyUp","onBlur"],Tt=["onKeyDown","onBlur","onChange","onInput","onChangeText"],jt=["refKey","ref"],_t=["onMouseMove","onMouseDown","onClick","onPress","index","item"],Kt=function(){var t=function(n){function o(f){var e;e=n.call(this,f)||this,e.id=e.props.id||"downshift-"+Ct(),e.menuId=e.props.menuId||e.id+"-menu",e.labelId=e.props.labelId||e.id+"-label",e.inputId=e.props.inputId||e.id+"-input",e.getItemId=e.props.getItemId||function(r){return e.id+"-item-"+r},e.items=[],e.itemCount=null,e.previousResultCount=0,e.timeoutIds=[],e.internalSetTimeout=function(r,i){var s=setTimeout(function(){e.timeoutIds=e.timeoutIds.filter(function(u){return u!==s}),r()},i);e.timeoutIds.push(s)},e.setItemCount=function(r){e.itemCount=r},e.unsetItemCount=function(){e.itemCount=null},e.isItemDisabled=function(r,i){var s=e.getItemNodeFromIndex(i);return s&&s.hasAttribute("disabled")},e.setHighlightedIndex=function(r,i){r===void 0&&(r=e.props.defaultHighlightedIndex),i===void 0&&(i={}),i=se(i),e.internalSetState(R({highlightedIndex:r},i))},e.clearSelection=function(r){e.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:e.props.defaultHighlightedIndex,isOpen:e.props.defaultIsOpen},r)},e.selectItem=function(r,i,s){i=se(i),e.internalSetState(R({isOpen:e.props.defaultIsOpen,highlightedIndex:e.props.defaultHighlightedIndex,selectedItem:r,inputValue:e.props.itemToString(r)},i),s)},e.selectItemAtIndex=function(r,i,s){var u=e.items[r];u!=null&&e.selectItem(u,i,s)},e.selectHighlightedItem=function(r,i){return e.selectItemAtIndex(e.getState().highlightedIndex,r,i)},e.internalSetState=function(r,i){var s,u,c={},g=typeof r=="function";return!g&&r.hasOwnProperty("inputValue")&&e.props.onInputValueChange(r.inputValue,R({},e.getStateAndHelpers(),r)),e.setState(function(p){var y;p=e.getState(p);var I=g?r(p):r;I=e.props.stateReducer(p,I),s=I.hasOwnProperty("selectedItem");var S={};return s&&I.selectedItem!==p.selectedItem&&(u=I.selectedItem),(y=I).type||(y.type=qe),Object.keys(I).forEach(function(C){p[C]!==I[C]&&(c[C]=I[C]),C!=="type"&&(I[C],De(e.props,C)||(S[C]=I[C]))}),g&&I.hasOwnProperty("inputValue")&&e.props.onInputValueChange(I.inputValue,R({},e.getStateAndHelpers(),I)),S},function(){_e(i)();var p=Object.keys(c).length>1;p&&e.props.onStateChange(c,e.getStateAndHelpers()),s&&e.props.onSelect(r.selectedItem,e.getStateAndHelpers()),u!==void 0&&e.props.onChange(u,e.getStateAndHelpers()),e.props.onUserAction(c,e.getStateAndHelpers())})},e.rootRef=function(r){return e._rootNode=r},e.getRootProps=function(r,i){var s,u=r===void 0?{}:r,c=u.refKey,g=c===void 0?"ref":c,p=u.ref,y=U(u,$t),I=i===void 0?{}:i,S=I.suppressRefError,C=S===void 0?!1:S;e.getRootProps.called=!0,e.getRootProps.refKey=g,e.getRootProps.suppressRefError=C;var M=e.getState(),D=M.isOpen;return R((s={},s[g]=Fe(p,e.rootRef),s.role="combobox",s["aria-expanded"]=D,s["aria-haspopup"]="listbox",s["aria-owns"]=D?e.menuId:void 0,s["aria-labelledby"]=e.labelId,s),y)},e.keyDownHandlers={ArrowDown:function(i){var s=this;if(i.preventDefault(),this.getState().isOpen){var u=i.shiftKey?5:1;this.moveHighlightedIndex(u,{type:ue})}else this.internalSetState({isOpen:!0,type:ue},function(){var c=s.getItemCount();if(c>0){var g=s.getState(),p=g.highlightedIndex,y=He(p,1,{length:c},s.isItemDisabled,!0);s.setHighlightedIndex(y,{type:ue})}})},ArrowUp:function(i){var s=this;if(i.preventDefault(),this.getState().isOpen){var u=i.shiftKey?-5:-1;this.moveHighlightedIndex(u,{type:le})}else this.internalSetState({isOpen:!0,type:le},function(){var c=s.getItemCount();if(c>0){var g=s.getState(),p=g.highlightedIndex,y=He(p,-1,{length:c},s.isItemDisabled,!0);s.setHighlightedIndex(y,{type:le})}})},Enter:function(i){if(i.which!==229){var s=this.getState(),u=s.isOpen,c=s.highlightedIndex;if(u&&c!=null){i.preventDefault();var g=this.items[c],p=this.getItemNodeFromIndex(c);if(g==null||p&&p.hasAttribute("disabled"))return;this.selectHighlightedItem({type:Ze})}}},Escape:function(i){i.preventDefault(),this.reset(R({type:Ye},!this.state.isOpen&&{selectedItem:null,inputValue:""}))}},e.buttonKeyDownHandlers=R({},e.keyDownHandlers,{" ":function(i){i.preventDefault(),this.toggleMenu({type:nt})}}),e.inputKeyDownHandlers=R({},e.keyDownHandlers,{Home:function(i){var s=this.getState(),u=s.isOpen;if(u){i.preventDefault();var c=this.getItemCount();if(!(c<=0||!u)){var g=de(0,!1,{length:c},this.isItemDisabled);this.setHighlightedIndex(g,{type:Ge})}}},End:function(i){var s=this.getState(),u=s.isOpen;if(u){i.preventDefault();var c=this.getItemCount();if(!(c<=0||!u)){var g=de(c-1,!0,{length:c},this.isItemDisabled);this.setHighlightedIndex(g,{type:Je})}}}}),e.getToggleButtonProps=function(r){var i=r===void 0?{}:r,s=i.onClick;i.onPress;var u=i.onKeyDown,c=i.onKeyUp,g=i.onBlur,p=U(i,At),y=e.getState(),I=y.isOpen,S={onClick:L(s,e.buttonHandleClick),onKeyDown:L(u,e.buttonHandleKeyDown),onKeyUp:L(c,e.buttonHandleKeyUp),onBlur:L(g,e.buttonHandleBlur)},C=p.disabled?{}:S;return R({type:"button",role:"button","aria-label":I?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},C,p)},e.buttonHandleKeyUp=function(r){r.preventDefault()},e.buttonHandleKeyDown=function(r){var i=Ne(r);e.buttonKeyDownHandlers[i]&&e.buttonKeyDownHandlers[i].call(e,r)},e.buttonHandleClick=function(r){if(r.preventDefault(),e.props.environment){var i=e.props.environment.document,s=i.body,u=i.activeElement;s&&s===u&&r.target.focus()}e.internalSetTimeout(function(){return e.toggleMenu({type:rt})})},e.buttonHandleBlur=function(r){var i=r.target;e.internalSetTimeout(function(){if(!(e.isMouseDown||!e.props.environment)){var s=e.props.environment.document.activeElement;(s==null||s.id!==e.inputId)&&s!==i&&e.reset({type:it})}})},e.getLabelProps=function(r){return R({htmlFor:e.inputId,id:e.labelId},r)},e.getInputProps=function(r){var i=r===void 0?{}:r,s=i.onKeyDown,u=i.onBlur,c=i.onChange,g=i.onInput;i.onChangeText;var p=U(i,Tt),y,I={};y="onChange";var S=e.getState(),C=S.inputValue,M=S.isOpen,D=S.highlightedIndex;if(!p.disabled){var F;I=(F={},F[y]=L(c,g,e.inputHandleChange),F.onKeyDown=L(s,e.inputHandleKeyDown),F.onBlur=L(u,e.inputHandleBlur),F)}return R({"aria-autocomplete":"list","aria-activedescendant":M&&typeof D=="number"&&D>=0?e.getItemId(D):void 0,"aria-controls":M?e.menuId:void 0,"aria-labelledby":p&&p["aria-label"]?void 0:e.labelId,autoComplete:"off",value:C,id:e.inputId},I,p)},e.inputHandleKeyDown=function(r){var i=Ne(r);i&&e.inputKeyDownHandlers[i]&&e.inputKeyDownHandlers[i].call(e,r)},e.inputHandleChange=function(r){e.internalSetState({type:tt,isOpen:!0,inputValue:r.target.value,highlightedIndex:e.props.defaultHighlightedIndex})},e.inputHandleBlur=function(){e.internalSetTimeout(function(){var r;if(!(e.isMouseDown||!e.props.environment)){var i=e.props.environment.document.activeElement,s=(i==null||(r=i.dataset)==null?void 0:r.toggle)&&e._rootNode&&e._rootNode.contains(i);s||e.reset({type:et})}})},e.menuRef=function(r){e._menuNode=r},e.getMenuProps=function(r,i){var s,u=r===void 0?{}:r,c=u.refKey,g=c===void 0?"ref":c,p=u.ref,y=U(u,jt),I=i===void 0?{}:i,S=I.suppressRefError,C=S===void 0?!1:S;return e.getMenuProps.called=!0,e.getMenuProps.refKey=g,e.getMenuProps.suppressRefError=C,R((s={},s[g]=Fe(p,e.menuRef),s.role="listbox",s["aria-labelledby"]=y&&y["aria-label"]?void 0:e.labelId,s.id=e.menuId,s),y)},e.getItemProps=function(r){var i,s=r===void 0?{}:r,u=s.onMouseMove,c=s.onMouseDown,g=s.onClick;s.onPress;var p=s.index,y=s.item,I=y===void 0?void 0:y,S=U(s,_t);p===void 0?(e.items.push(I),p=e.items.indexOf(I)):e.items[p]=I;var C="onClick",M=g,D=(i={onMouseMove:L(u,function(){p!==e.getState().highlightedIndex&&(e.setHighlightedIndex(p,{type:Xe}),e.avoidScrolling=!0,e.internalSetTimeout(function(){return e.avoidScrolling=!1},250))}),onMouseDown:L(c,function(N){N.preventDefault()})},i[C]=L(M,function(){e.selectItemAtIndex(p,{type:Qe})}),i),F=S.disabled?{onMouseDown:D.onMouseDown}:D;return R({id:e.getItemId(p),role:"option","aria-selected":e.getState().highlightedIndex===p},F,S)},e.clearItems=function(){e.items=[]},e.reset=function(r,i){r===void 0&&(r={}),r=se(r),e.internalSetState(function(s){var u=s.selectedItem;return R({isOpen:e.props.defaultIsOpen,highlightedIndex:e.props.defaultHighlightedIndex,inputValue:e.props.itemToString(u)},r)},i)},e.toggleMenu=function(r,i){r===void 0&&(r={}),r=se(r),e.internalSetState(function(s){var u=s.isOpen;return R({isOpen:!u},u&&{highlightedIndex:e.props.defaultHighlightedIndex},r)},function(){var s=e.getState(),u=s.isOpen,c=s.highlightedIndex;u&&e.getItemCount()>0&&typeof c=="number"&&e.setHighlightedIndex(c,r),_e(i)()})},e.openMenu=function(r){e.internalSetState({isOpen:!0},r)},e.closeMenu=function(r){e.internalSetState({isOpen:!1},r)},e.updateStatus=Pe(function(){var r;if((r=e.props)!=null&&(r=r.environment)!=null&&r.document){var i=e.getState(),s=e.items[i.highlightedIndex],u=e.getItemCount(),c=e.props.getA11yStatusMessage(R({itemToString:e.props.itemToString,previousResultCount:e.previousResultCount,resultCount:u,highlightedItem:s},i));e.previousResultCount=u,Ue(c,e.props.environment.document)}},200);var a=e.props,d=a.defaultHighlightedIndex,m=a.initialHighlightedIndex,v=m===void 0?d:m,$=a.defaultIsOpen,E=a.initialIsOpen,A=E===void 0?$:E,b=a.initialInputValue,O=b===void 0?"":b,T=a.initialSelectedItem,_=T===void 0?null:T,j=e.getState({highlightedIndex:v,isOpen:A,inputValue:O,selectedItem:_});return j.selectedItem!=null&&e.props.initialInputValue===void 0&&(j.inputValue=e.props.itemToString(j.selectedItem)),e.state=j,e}It(o,n);var l=o.prototype;return l.internalClearTimeouts=function(){this.timeoutIds.forEach(function(e){clearTimeout(e)}),this.timeoutIds=[]},l.getState=function(e){return e===void 0&&(e=this.state),Rt(e,this.props)},l.getItemCount=function(){var e=this.items.length;return this.itemCount!=null?e=this.itemCount:this.props.itemCount!==void 0&&(e=this.props.itemCount),e},l.getItemNodeFromIndex=function(e){return this.props.environment?this.props.environment.document.getElementById(this.getItemId(e)):null},l.scrollHighlightedItemIntoView=function(){{var e=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(e,this._menuNode)}},l.moveHighlightedIndex=function(e,a){var d=this.getItemCount(),m=this.getState(),v=m.highlightedIndex;if(d>0){var $=He(v,e,{length:d},this.isItemDisabled,!0);this.setHighlightedIndex($,a)}},l.getStateAndHelpers=function(){var e=this.getState(),a=e.highlightedIndex,d=e.inputValue,m=e.selectedItem,v=e.isOpen,$=this.props.itemToString,E=this.id,A=this.getRootProps,b=this.getToggleButtonProps,O=this.getLabelProps,T=this.getMenuProps,_=this.getInputProps,j=this.getItemProps,r=this.openMenu,i=this.closeMenu,s=this.toggleMenu,u=this.selectItem,c=this.selectItemAtIndex,g=this.selectHighlightedItem,p=this.setHighlightedIndex,y=this.clearSelection,I=this.clearItems,S=this.reset,C=this.setItemCount,M=this.unsetItemCount,D=this.internalSetState;return{getRootProps:A,getToggleButtonProps:b,getLabelProps:O,getMenuProps:T,getInputProps:_,getItemProps:j,reset:S,openMenu:r,closeMenu:i,toggleMenu:s,selectItem:u,selectItemAtIndex:c,selectHighlightedItem:g,setHighlightedIndex:p,clearSelection:y,clearItems:I,setItemCount:C,unsetItemCount:M,setState:D,itemToString:$,id:E,highlightedIndex:a,inputValue:d,isOpen:v,selectedItem:m}},l.componentDidMount=function(){var e=this;if(!this.props.environment)this.cleanup=function(){e.internalClearTimeouts()};else{var a=function(){e.isMouseDown=!0},d=function(b){e.isMouseDown=!1;var O=Ve(b.target,[e._rootNode,e._menuNode],e.props.environment);!O&&e.getState().isOpen&&e.reset({type:ze},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},m=function(){e.isTouchMove=!1},v=function(){e.isTouchMove=!0},$=function(b){var O=Ve(b.target,[e._rootNode,e._menuNode],e.props.environment,!1);!e.isTouchMove&&!O&&e.getState().isOpen&&e.reset({type:st},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},E=this.props.environment;E.addEventListener("mousedown",a),E.addEventListener("mouseup",d),E.addEventListener("touchstart",m),E.addEventListener("touchmove",v),E.addEventListener("touchend",$),this.cleanup=function(){e.internalClearTimeouts(),e.updateStatus.cancel(),E.removeEventListener("mousedown",a),E.removeEventListener("mouseup",d),E.removeEventListener("touchstart",m),E.removeEventListener("touchmove",v),E.removeEventListener("touchend",$)}}},l.shouldScroll=function(e,a){var d=this.props.highlightedIndex===void 0?this.getState():this.props,m=d.highlightedIndex,v=a.highlightedIndex===void 0?e:a,$=v.highlightedIndex,E=m&&this.getState().isOpen&&!e.isOpen,A=m!==$;return E||A},l.componentDidUpdate=function(e,a){De(this.props,"selectedItem")&&this.props.selectedItemChanged(e.selectedItem,this.props.selectedItem)&&this.internalSetState({type:ot,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(a,e)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},l.componentWillUnmount=function(){this.cleanup()},l.render=function(){var e=Le(this.props.children,k);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var a=Le(e(this.getStateAndHelpers()));if(!a)return null;if(this.getRootProps.called||this.props.suppressRefError)return a;if(Et(a))return P.cloneElement(a,this.getRootProps(Ot(a)))},o}(P.Component);return t.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:Ht,itemToString:function(o){return o==null?"":String(o)},onStateChange:k,onInputValueChange:k,onUserAction:k,onChange:k,onSelect:k,onOuterClick:k,selectedItemChanged:function(o,l){return o!==l},environment:typeof window>"u"?void 0:window,stateReducer:function(o,l){return l},suppressRefError:!1,scrollIntoView:ke},t.stateChangeTypes=Pt,t}(),Ft=Kt;function Lt(t,n){return n.changes}Pe(function(t,n){Ue(t,n)},200);var q={itemToString:function(n){return n?String(n):""},itemToKey:function(n){return n},stateReducer:Lt,scrollIntoView:ke,environment:typeof window>"u"?void 0:window},ae={environment:h.shape({addEventListener:h.func.isRequired,removeEventListener:h.func.isRequired,document:h.shape({createElement:h.func.isRequired,getElementById:h.func.isRequired,activeElement:h.any.isRequired,body:h.any.isRequired}).isRequired,Node:h.func.isRequired}),itemToString:h.func,itemToKey:h.func,stateReducer:h.func},lt=R({},ae,{getA11yStatusMessage:h.func,highlightedIndex:h.number,defaultHighlightedIndex:h.number,initialHighlightedIndex:h.number,isOpen:h.bool,defaultIsOpen:h.bool,initialIsOpen:h.bool,selectedItem:h.any,initialSelectedItem:h.any,defaultSelectedItem:h.any,id:h.string,labelId:h.string,menuId:h.string,getItemId:h.func,toggleButtonId:h.string,onSelectedItemChange:h.func,onHighlightedIndexChange:h.func,onStateChange:h.func,onIsOpenChange:h.func,scrollIntoView:h.func});W(W({},lt),{items:h.array.isRequired,isItemDisabled:h.func});W(W({},q),{isItemDisabled:function(){return!1}});R({},lt,{items:h.array.isRequired,isItemDisabled:h.func,inputValue:h.string,defaultInputValue:h.string,initialInputValue:h.string,inputId:h.string,onInputValueChange:h.func});R({},q,{isItemDisabled:function(){return!1}});ae.stateReducer,ae.itemToKey,ae.environment,h.array,h.array,h.array,h.func,h.number,h.number,h.number,h.func,h.func,h.string,h.string;q.itemToKey,q.stateReducer,q.environment;function Nt({items:t=[],label:n,placeholder:o=null,onChange:l,onFocus:f}){const e=P.useRef(null),[a,d]=P.useState(!1);P.useEffect(()=>{e.current&&setTimeout(()=>{d(!0)},0)},[e.current]);const[m,v]=P.useState(!1),$=b=>{v(!1),f&&f(b),setTimeout(()=>v(!0),1)},E=b=>{v(!1)},A=b=>{l&&l(b)};return w.jsx(Ft,{onChange:A,itemToString:b=>b?(b==null?void 0:b.label)||b.value:"",children:({getInputProps:b,getItemProps:O,getLabelProps:T,getMenuProps:_,isOpen:j,inputValue:r,highlightedIndex:i,selectedItem:s,getRootProps:u})=>{const c=p=>{if(!r)return!0;const y=r.split(" ").map(S=>S.toLowerCase()),I=p.label.split(" ").map(S=>S.toLowerCase());return y.every(S=>I.some(C=>C.includes(S)))},g=t.filter(c);return w.jsxs("div",{ref:e,className:`Combobox ${a?"init":""} ${m?"open":""}`,children:[w.jsxs("label",{...T(),children:[n,w.jsx("div",{className:"input-wrapper",...u({},{suppressRefError:!0}),children:w.jsx("input",{...b(),placeholder:o,onFocus:$,onClick:$,onBlur:E})})]}),w.jsx("ul",{className:`results ${m?"open":""}`,..._(),children:g.length&&m?g.map((p,y)=>w.jsx("li",{className:`item ${i===y?"highlighted":""}`,...O({index:y,item:p,style:{fontWeight:s===p?"bold":"normal"}}),children:(p==null?void 0:p.label)||p.value},(p==null?void 0:p.label)||p.value)):w.jsx("li",{className:"item",children:"(no results)"})})]})}})}function Ee(t){const n={loading:!1,error:null,data:null},o=(a,d)=>{switch(d.type){case"FETCH_START":return{...a,loading:!0,error:null};case"FETCH_SUCCESS":return{...a,loading:!1,data:d.payload};case"FETCH_FAILURE":return{...a,loading:!1,error:d.payload};default:return a}},[l,f]=P.useReducer(o,n);return{state:l,get:async a=>{f({type:"FETCH_START"});try{const d={nocache:t?Date.parse(t):null},m=await axios.get(a,{params:d});return f({type:"FETCH_SUCCESS",payload:m.data}),m}catch(d){return f({type:"FETCH_FAILURE",payload:d.message}),d}}}}function tn({apiLastModified:t}){var i,s;const[n,o]=P.useState(null),[l,f]=P.useState(null),[e,a]=P.useState(null),[d,m]=P.useState(null),[v,$]=P.useState(null),E=ut();ct("home");const A=pt(),b=Ee(t),O=Ee(t),T=Ee(t);P.useEffect(()=>{b.get("/api/fishes").then(u=>o(u.data.fishes)),O.get("/api/locations").then(u=>f(u.data.locations))},[]),P.useEffect(()=>{const u=E.get("settings",c=>c.selectedFish);u&&m(u)},[]);const _=u=>{let c;d===u?c=null:c=u,E.set("settings",g=>g.selectedFish=c),m(c)},j=u=>{$(u)};P.useEffect(()=>{var u;if(v){a(null);let c="/api/fishByLocation/"+v.value.regionId;c+="/"+(((u=v.value)==null?void 0:u.waterId)??0),c+="/"+(d??0),T.get(c).then(g=>{a(g.data.limits)})}},[v,d]);const r=u=>{const c=u.target,g=c.closest(".Combobox");g.addEventListener("transitionstart",()=>g.addEventListener("transitionend",()=>{var p;return(p=c.parentElement)==null?void 0:p.scrollIntoView({behavior:"smooth",block:"start"})},{once:!0}),{once:!0})};return w.jsxs(at,{className:`Home ${v?"location-selected":""}`,children:[w.jsx("header",{className:`${v?"":"shadow"}`,children:w.jsx(dt,{children:w.jsxs("h1",{className:"hero",children:["Smart ",w.jsx("span",{children:"Fish"})]})})}),w.jsxs("main",{children:[n!==null&&l!==null&&w.jsxs("div",{className:"layout",children:[w.jsx("div",{className:"header",children:v&&w.jsxs("button",{onClick:()=>$(null),className:"selected-location flex items-center gap-2",children:[w.jsx("strong",{children:v.label.split("/").map(u=>w.jsx("span",{children:u},u))}),w.jsx(vt,{className:"h-5 w-5"})]})}),w.jsx("div",{className:"body",children:v?w.jsx(gt,{isLoading:T.state.loading,restrictions:e,regionId:(i=v==null?void 0:v.value)==null?void 0:i.regionId,waterId:(s=v==null?void 0:v.value)==null?void 0:s.waterId}):w.jsx(Nt,{items:Object.keys(l).map(u=>({value:l[u],label:u})),onChange:j,onFocus:r,placeholder:"Search by river, lake or region"})})]}),w.jsx("div",{className:"logo",children:w.jsx("img",{src:"/images/logo.png"})})]}),w.jsx("footer",{children:A.isMobile?w.jsx(ft,{fishes:n,selectedFishId:d,selectFish:_}):w.jsx(ht,{fishes:n,selectedFishId:d,selectFish:_})})]})}export{tn as default};
