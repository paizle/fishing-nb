import{r as P,g as pt,j as w}from"./app-CN6gpWes.js";import{u as ft,P as ht}from"./PublicLayout-BJT-L94N.js";import{P as gt}from"./PublicNav-B_j-n83o.js";import{u as mt}from"./useLandingPage-CybH85fk.js";import{u as vt}from"./useScreenOrientation-BA7sGISZ.js";import It from"./SelectFishMobile-DHsqxgev.js";import yt from"./SelectFishDesktop-BRzyS_kv.js";import St from"./FishingRestrictions-D1donHSb.js";import"./ResponsiveNavLink-DuHuIBtz.js";import"./transition-CD8oYWmi.js";import"./getFishImageSrc-bMjek-YH.js";import"./parseMySqlDate-DjqKqIUd.js";import"./format-CU-xZK7a.js";import"./FishRestrictionsTable-Ba88xFBH.js";function bt({title:t,titleId:n,...i},l){return P.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":n},i),t?P.createElement("title",{id:n},t):null,P.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const wt=P.forwardRef(bt);function q(t,n){if(t==null)return{};var i={};for(var l in t)if({}.hasOwnProperty.call(t,l)){if(n.includes(l))continue;i[l]=t[l]}return i}function R(){return R=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var l in i)({}).hasOwnProperty.call(i,l)&&(t[l]=i[l])}return t},R.apply(null,arguments)}function De(t,n){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,l){return i.__proto__=l,i},De(t,n)}function xt(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,De(t,n)}var Be={exports:{}},Ct="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Et=Ct,Ht=Et;function We(){}function Ue(){}Ue.resetWarningCache=We;var Ot=function(){function t(l,p,e,a,d,v){if(v!==Ht){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}t.isRequired=t;function n(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:n,element:t,elementType:t,instanceOf:n,node:t,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:Ue,resetWarningCache:We};return i.PropTypes=i,i};Be.exports=Ot();var Dt=Be.exports;const h=pt(Dt);var x={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Te=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),pe=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),me=Symbol.for("react.context"),Rt=Symbol.for("react.server_context"),ve=Symbol.for("react.forward_ref"),Ie=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Tt=Symbol.for("react.offscreen"),qe;qe=Symbol.for("react.module.reference");function j(t){if(typeof t=="object"&&t!==null){var n=t.$$typeof;switch(n){case Te:switch(t=t.type,t){case pe:case he:case fe:case Ie:case ye:return t;default:switch(t=t&&t.$$typeof,t){case Rt:case me:case ve:case be:case Se:case ge:return t;default:return n}}case Pe:return n}}}x.ContextConsumer=me;x.ContextProvider=ge;x.Element=Te;x.ForwardRef=ve;x.Fragment=pe;x.Lazy=be;x.Memo=Se;x.Portal=Pe;x.Profiler=he;x.StrictMode=fe;x.Suspense=Ie;x.SuspenseList=ye;x.isAsyncMode=function(){return!1};x.isConcurrentMode=function(){return!1};x.isContextConsumer=function(t){return j(t)===me};x.isContextProvider=function(t){return j(t)===ge};x.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Te};x.isForwardRef=function(t){return j(t)===ve};x.isFragment=function(t){return j(t)===pe};x.isLazy=function(t){return j(t)===be};x.isMemo=function(t){return j(t)===Se};x.isPortal=function(t){return j(t)===Pe};x.isProfiler=function(t){return j(t)===he};x.isStrictMode=function(t){return j(t)===fe};x.isSuspense=function(t){return j(t)===Ie};x.isSuspenseList=function(t){return j(t)===ye};x.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===pe||t===he||t===fe||t===Ie||t===ye||t===Tt||typeof t=="object"&&t!==null&&(t.$$typeof===be||t.$$typeof===Se||t.$$typeof===ge||t.$$typeof===me||t.$$typeof===ve||t.$$typeof===qe||t.getModuleId!==void 0)};x.typeOf=j;const Fe=t=>typeof t=="object"&&t!=null&&t.nodeType===1,$e=(t,n)=>(!n||t!=="hidden")&&t!=="visible"&&t!=="clip",oe=(t,n)=>{if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){const i=getComputedStyle(t,null);return $e(i.overflowY,n)||$e(i.overflowX,n)||(l=>{const p=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch{return null}})(l);return!!p&&(p.clientHeight<l.scrollHeight||p.clientWidth<l.scrollWidth)})(t)}return!1},se=(t,n,i,l,p,e,a,d)=>e<t&&a>n||e>t&&a<n?0:e<=t&&d<=i||a>=n&&d>=i?e-t-l:a>n&&d<i||e<t&&d>i?a-n+p:0,Pt=t=>{const n=t.parentElement;return n??(t.getRootNode().host||null)},Mt=(t,n)=>{var i,l,p,e;if(typeof document>"u")return[];const{scrollMode:a,block:d,inline:v,boundary:m,skipOverflowHiddenElements:M}=n,H=typeof m=="function"?m:N=>N!==m;if(!Fe(t))throw new TypeError("Invalid target");const _=document.scrollingElement||document.documentElement,S=[];let O=t;for(;Fe(O)&&H(O);){if(O=Pt(O),O===_){S.push(O);break}O!=null&&O===document.body&&oe(O)&&!oe(document.documentElement)||O!=null&&oe(O,M)&&S.push(O)}const F=(l=(i=window.visualViewport)==null?void 0:i.width)!=null?l:innerWidth,$=(e=(p=window.visualViewport)==null?void 0:p.height)!=null?e:innerHeight,{scrollX:A,scrollY:r}=window,{height:o,width:s,top:u,right:c,bottom:g,left:f}=t.getBoundingClientRect(),{top:y,right:I,bottom:b,left:C}=(N=>{const E=window.getComputedStyle(N);return{top:parseFloat(E.scrollMarginTop)||0,right:parseFloat(E.scrollMarginRight)||0,bottom:parseFloat(E.scrollMarginBottom)||0,left:parseFloat(E.scrollMarginLeft)||0}})(t);let T=d==="start"||d==="nearest"?u-y:d==="end"?g+b:u+o/2-y+b,D=v==="center"?f+s/2-C+I:v==="end"?c+I:f-C;const K=[];for(let N=0;N<S.length;N++){const E=S[N],{height:X,width:Y,top:Z,right:we,bottom:xe,left:G}=E.getBoundingClientRect();if(a==="if-needed"&&u>=0&&f>=0&&g<=$&&c<=F&&(E===_&&!oe(E)||u>=Z&&g<=xe&&f>=G&&c<=we))return K;const J=getComputedStyle(E),Q=parseInt(J.borderLeftWidth,10),ee=parseInt(J.borderTopWidth,10),te=parseInt(J.borderRightWidth,10),ne=parseInt(J.borderBottomWidth,10);let V=0,k=0;const re="offsetWidth"in E?E.offsetWidth-E.clientWidth-Q-te:0,ie="offsetHeight"in E?E.offsetHeight-E.clientHeight-ee-ne:0,Ce="offsetWidth"in E?E.offsetWidth===0?0:Y/E.offsetWidth:0,Ee="offsetHeight"in E?E.offsetHeight===0?0:X/E.offsetHeight:0;if(_===E)V=d==="start"?T:d==="end"?T-$:d==="nearest"?se(r,r+$,$,ee,ne,r+T,r+T+o,o):T-$/2,k=v==="start"?D:v==="center"?D-F/2:v==="end"?D-F:se(A,A+F,F,Q,te,A+D,A+D+s,s),V=Math.max(0,V+r),k=Math.max(0,k+A);else{V=d==="start"?T-Z-ee:d==="end"?T-xe+ne+ie:d==="nearest"?se(Z,xe,X,ee,ne+ie,T,T+o,o):T-(Z+X/2)+ie/2,k=v==="start"?D-G-Q:v==="center"?D-(G+Y/2)+re/2:v==="end"?D-we+te+re:se(G,we,Y,Q,te+re,D,D+s,s);const{scrollLeft:_e,scrollTop:Ae}=E;V=Ee===0?0:Math.max(0,Math.min(Ae+V/Ee,E.scrollHeight-X/Ee+ie)),k=Ce===0?0:Math.max(0,Math.min(_e+k/Ce,E.scrollWidth-Y/Ce+re)),T+=Ae-V,D+=_e-k}K.push({el:E,top:V,left:k})}return K};var U=function(){return U=Object.assign||function(n){for(var i,l=1,p=arguments.length;l<p;l++){i=arguments[l];for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}return n},U.apply(this,arguments)};var _t=0;function je(t){return typeof t=="function"?t:B}function B(){}function ze(t,n){if(t){var i=Mt(t,{boundary:n,block:"nearest",scrollMode:"if-needed"});i.forEach(function(l){var p=l.el,e=l.top,a=l.left;p.scrollTop=e,p.scrollLeft=a})}}function Ke(t,n,i){var l=t===n||n instanceof i.Node&&t.contains&&t.contains(n);return l}function Me(t,n){var i;function l(){i&&clearTimeout(i)}function p(){for(var e=arguments.length,a=new Array(e),d=0;d<e;d++)a[d]=arguments[d];l(),i=setTimeout(function(){i=null,t.apply(void 0,a)},n)}return p.cancel=l,p}function L(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return function(l){for(var p=arguments.length,e=new Array(p>1?p-1:0),a=1;a<p;a++)e[a-1]=arguments[a];return n.some(function(d){return d&&d.apply(void 0,[l].concat(e)),l.preventDownshiftDefault||l.hasOwnProperty("nativeEvent")&&l.nativeEvent.preventDownshiftDefault})}}function Le(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return function(l){n.forEach(function(p){typeof p=="function"?p(l):p&&(p.current=l)})}}function At(){return String(_t++)}function Ft(t){var n=t.isOpen,i=t.resultCount,l=t.previousResultCount;return n?i?i!==l?i+" result"+(i===1?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}function Ne(t,n){return t=Array.isArray(t)?t[0]:t,!t&&n?n:t}function $t(t){return typeof t.type=="string"}function jt(t){return t.props}var Kt=["highlightedIndex","inputValue","isOpen","selectedItem","type"];function le(t){t===void 0&&(t={});var n={};return Kt.forEach(function(i){t.hasOwnProperty(i)&&(n[i]=t[i])}),n}function Lt(t,n){return!t||!n?t:Object.keys(t).reduce(function(i,l){return i[l]=Re(n,l)?n[l]:t[l],i},{})}function Re(t,n){return t[n]!==void 0}function Ve(t){var n=t.key,i=t.keyCode;return i>=37&&i<=40&&n.indexOf("Arrow")!==0?"Arrow"+n:n}function He(t,n,i,l,p){var e=i.length;if(e===0)return-1;var a=e-1;(typeof t!="number"||t<0||t>a)&&(t=n>0?-1:a+1);var d=t+n;d<0?d=a:d>a&&(d=0);var v=ce(d,n<0,i,l,p);return v===-1?t>=e?-1:t:v}function ce(t,n,i,l,p){p===void 0&&(p=!1);var e=i.length;if(n){for(var a=t;a>=0;a--)if(!l(i[a],a))return a}else for(var d=t;d<e;d++)if(!l(i[d],d))return d;return p?ce(n?e-1:0,n,i,l):-1}function ke(t,n,i,l){return l===void 0&&(l=!0),i&&n.some(function(p){return p&&(Ke(p,t,i)||l&&Ke(p,i.document.activeElement,i))})}var Nt=Me(function(t){Xe(t).textContent=""},500);function Xe(t){var n=t.getElementById("a11y-status-message");return n||(n=t.createElement("div"),n.setAttribute("id","a11y-status-message"),n.setAttribute("role","status"),n.setAttribute("aria-live","polite"),n.setAttribute("aria-relevant","additions text"),Object.assign(n.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),t.body.appendChild(n),n)}function Ye(t,n){if(!(!t||!n)){var i=Xe(n);i.textContent=t,Nt(n)}}var Ze=0,Ge=1,Je=2,ue=3,ae=4,Qe=5,et=6,tt=7,nt=8,rt=9,it=10,ot=11,st=12,lt=13,ut=14,at=15,dt=16,Vt=Object.freeze({__proto__:null,blurButton:ut,blurInput:it,changeInput:ot,clickButton:lt,clickItem:rt,controlledPropUpdatedSelectedItem:at,itemMouseEnter:Je,keyDownArrowDown:ae,keyDownArrowUp:ue,keyDownEnd:nt,keyDownEnter:et,keyDownEscape:Qe,keyDownHome:tt,keyDownSpaceButton:st,mouseUp:Ge,touchEnd:dt,unknown:Ze}),kt=["refKey","ref"],Bt=["onClick","onPress","onKeyDown","onKeyUp","onBlur"],Wt=["onKeyDown","onBlur","onChange","onInput","onChangeText"],Ut=["refKey","ref"],qt=["onMouseMove","onMouseDown","onClick","onPress","index","item"],zt=function(){var t=function(n){function i(p){var e;e=n.call(this,p)||this,e.id=e.props.id||"downshift-"+At(),e.menuId=e.props.menuId||e.id+"-menu",e.labelId=e.props.labelId||e.id+"-label",e.inputId=e.props.inputId||e.id+"-input",e.getItemId=e.props.getItemId||function(r){return e.id+"-item-"+r},e.items=[],e.itemCount=null,e.previousResultCount=0,e.timeoutIds=[],e.internalSetTimeout=function(r,o){var s=setTimeout(function(){e.timeoutIds=e.timeoutIds.filter(function(u){return u!==s}),r()},o);e.timeoutIds.push(s)},e.setItemCount=function(r){e.itemCount=r},e.unsetItemCount=function(){e.itemCount=null},e.isItemDisabled=function(r,o){var s=e.getItemNodeFromIndex(o);return s&&s.hasAttribute("disabled")},e.setHighlightedIndex=function(r,o){r===void 0&&(r=e.props.defaultHighlightedIndex),o===void 0&&(o={}),o=le(o),e.internalSetState(R({highlightedIndex:r},o))},e.clearSelection=function(r){e.internalSetState({selectedItem:null,inputValue:"",highlightedIndex:e.props.defaultHighlightedIndex,isOpen:e.props.defaultIsOpen},r)},e.selectItem=function(r,o,s){o=le(o),e.internalSetState(R({isOpen:e.props.defaultIsOpen,highlightedIndex:e.props.defaultHighlightedIndex,selectedItem:r,inputValue:e.props.itemToString(r)},o),s)},e.selectItemAtIndex=function(r,o,s){var u=e.items[r];u!=null&&e.selectItem(u,o,s)},e.selectHighlightedItem=function(r,o){return e.selectItemAtIndex(e.getState().highlightedIndex,r,o)},e.internalSetState=function(r,o){var s,u,c={},g=typeof r=="function";return!g&&r.hasOwnProperty("inputValue")&&e.props.onInputValueChange(r.inputValue,R({},e.getStateAndHelpers(),r)),e.setState(function(f){var y;f=e.getState(f);var I=g?r(f):r;I=e.props.stateReducer(f,I),s=I.hasOwnProperty("selectedItem");var b={};return s&&I.selectedItem!==f.selectedItem&&(u=I.selectedItem),(y=I).type||(y.type=Ze),Object.keys(I).forEach(function(C){f[C]!==I[C]&&(c[C]=I[C]),C!=="type"&&(I[C],Re(e.props,C)||(b[C]=I[C]))}),g&&I.hasOwnProperty("inputValue")&&e.props.onInputValueChange(I.inputValue,R({},e.getStateAndHelpers(),I)),b},function(){je(o)();var f=Object.keys(c).length>1;f&&e.props.onStateChange(c,e.getStateAndHelpers()),s&&e.props.onSelect(r.selectedItem,e.getStateAndHelpers()),u!==void 0&&e.props.onChange(u,e.getStateAndHelpers()),e.props.onUserAction(c,e.getStateAndHelpers())})},e.rootRef=function(r){return e._rootNode=r},e.getRootProps=function(r,o){var s,u=r===void 0?{}:r,c=u.refKey,g=c===void 0?"ref":c,f=u.ref,y=q(u,kt),I=o===void 0?{}:o,b=I.suppressRefError,C=b===void 0?!1:b;e.getRootProps.called=!0,e.getRootProps.refKey=g,e.getRootProps.suppressRefError=C;var T=e.getState(),D=T.isOpen;return R((s={},s[g]=Le(f,e.rootRef),s.role="combobox",s["aria-expanded"]=D,s["aria-haspopup"]="listbox",s["aria-owns"]=D?e.menuId:void 0,s["aria-labelledby"]=e.labelId,s),y)},e.keyDownHandlers={ArrowDown:function(o){var s=this;if(o.preventDefault(),this.getState().isOpen){var u=o.shiftKey?5:1;this.moveHighlightedIndex(u,{type:ae})}else this.internalSetState({isOpen:!0,type:ae},function(){var c=s.getItemCount();if(c>0){var g=s.getState(),f=g.highlightedIndex,y=He(f,1,{length:c},s.isItemDisabled,!0);s.setHighlightedIndex(y,{type:ae})}})},ArrowUp:function(o){var s=this;if(o.preventDefault(),this.getState().isOpen){var u=o.shiftKey?-5:-1;this.moveHighlightedIndex(u,{type:ue})}else this.internalSetState({isOpen:!0,type:ue},function(){var c=s.getItemCount();if(c>0){var g=s.getState(),f=g.highlightedIndex,y=He(f,-1,{length:c},s.isItemDisabled,!0);s.setHighlightedIndex(y,{type:ue})}})},Enter:function(o){if(o.which!==229){var s=this.getState(),u=s.isOpen,c=s.highlightedIndex;if(u&&c!=null){o.preventDefault();var g=this.items[c],f=this.getItemNodeFromIndex(c);if(g==null||f&&f.hasAttribute("disabled"))return;this.selectHighlightedItem({type:et})}}},Escape:function(o){o.preventDefault(),this.reset(R({type:Qe},!this.state.isOpen&&{selectedItem:null,inputValue:""}))}},e.buttonKeyDownHandlers=R({},e.keyDownHandlers,{" ":function(o){o.preventDefault(),this.toggleMenu({type:st})}}),e.inputKeyDownHandlers=R({},e.keyDownHandlers,{Home:function(o){var s=this.getState(),u=s.isOpen;if(u){o.preventDefault();var c=this.getItemCount();if(!(c<=0||!u)){var g=ce(0,!1,{length:c},this.isItemDisabled);this.setHighlightedIndex(g,{type:tt})}}},End:function(o){var s=this.getState(),u=s.isOpen;if(u){o.preventDefault();var c=this.getItemCount();if(!(c<=0||!u)){var g=ce(c-1,!0,{length:c},this.isItemDisabled);this.setHighlightedIndex(g,{type:nt})}}}}),e.getToggleButtonProps=function(r){var o=r===void 0?{}:r,s=o.onClick;o.onPress;var u=o.onKeyDown,c=o.onKeyUp,g=o.onBlur,f=q(o,Bt),y=e.getState(),I=y.isOpen,b={onClick:L(s,e.buttonHandleClick),onKeyDown:L(u,e.buttonHandleKeyDown),onKeyUp:L(c,e.buttonHandleKeyUp),onBlur:L(g,e.buttonHandleBlur)},C=f.disabled?{}:b;return R({type:"button",role:"button","aria-label":I?"close menu":"open menu","aria-haspopup":!0,"data-toggle":!0},C,f)},e.buttonHandleKeyUp=function(r){r.preventDefault()},e.buttonHandleKeyDown=function(r){var o=Ve(r);e.buttonKeyDownHandlers[o]&&e.buttonKeyDownHandlers[o].call(e,r)},e.buttonHandleClick=function(r){if(r.preventDefault(),e.props.environment){var o=e.props.environment.document,s=o.body,u=o.activeElement;s&&s===u&&r.target.focus()}e.internalSetTimeout(function(){return e.toggleMenu({type:lt})})},e.buttonHandleBlur=function(r){var o=r.target;e.internalSetTimeout(function(){if(!(e.isMouseDown||!e.props.environment)){var s=e.props.environment.document.activeElement;(s==null||s.id!==e.inputId)&&s!==o&&e.reset({type:ut})}})},e.getLabelProps=function(r){return R({htmlFor:e.inputId,id:e.labelId},r)},e.getInputProps=function(r){var o=r===void 0?{}:r,s=o.onKeyDown,u=o.onBlur,c=o.onChange,g=o.onInput;o.onChangeText;var f=q(o,Wt),y,I={};y="onChange";var b=e.getState(),C=b.inputValue,T=b.isOpen,D=b.highlightedIndex;if(!f.disabled){var K;I=(K={},K[y]=L(c,g,e.inputHandleChange),K.onKeyDown=L(s,e.inputHandleKeyDown),K.onBlur=L(u,e.inputHandleBlur),K)}return R({"aria-autocomplete":"list","aria-activedescendant":T&&typeof D=="number"&&D>=0?e.getItemId(D):void 0,"aria-controls":T?e.menuId:void 0,"aria-labelledby":f&&f["aria-label"]?void 0:e.labelId,autoComplete:"off",value:C,id:e.inputId},I,f)},e.inputHandleKeyDown=function(r){var o=Ve(r);o&&e.inputKeyDownHandlers[o]&&e.inputKeyDownHandlers[o].call(e,r)},e.inputHandleChange=function(r){e.internalSetState({type:ot,isOpen:!0,inputValue:r.target.value,highlightedIndex:e.props.defaultHighlightedIndex})},e.inputHandleBlur=function(){e.internalSetTimeout(function(){var r;if(!(e.isMouseDown||!e.props.environment)){var o=e.props.environment.document.activeElement,s=(o==null||(r=o.dataset)==null?void 0:r.toggle)&&e._rootNode&&e._rootNode.contains(o);s||e.reset({type:it})}})},e.menuRef=function(r){e._menuNode=r},e.getMenuProps=function(r,o){var s,u=r===void 0?{}:r,c=u.refKey,g=c===void 0?"ref":c,f=u.ref,y=q(u,Ut),I=o===void 0?{}:o,b=I.suppressRefError,C=b===void 0?!1:b;return e.getMenuProps.called=!0,e.getMenuProps.refKey=g,e.getMenuProps.suppressRefError=C,R((s={},s[g]=Le(f,e.menuRef),s.role="listbox",s["aria-labelledby"]=y&&y["aria-label"]?void 0:e.labelId,s.id=e.menuId,s),y)},e.getItemProps=function(r){var o,s=r===void 0?{}:r,u=s.onMouseMove,c=s.onMouseDown,g=s.onClick;s.onPress;var f=s.index,y=s.item,I=y===void 0?void 0:y,b=q(s,qt);f===void 0?(e.items.push(I),f=e.items.indexOf(I)):e.items[f]=I;var C="onClick",T=g,D=(o={onMouseMove:L(u,function(){f!==e.getState().highlightedIndex&&(e.setHighlightedIndex(f,{type:Je}),e.avoidScrolling=!0,e.internalSetTimeout(function(){return e.avoidScrolling=!1},250))}),onMouseDown:L(c,function(N){N.preventDefault()})},o[C]=L(T,function(){e.selectItemAtIndex(f,{type:rt})}),o),K=b.disabled?{onMouseDown:D.onMouseDown}:D;return R({id:e.getItemId(f),role:"option","aria-selected":e.getState().highlightedIndex===f},K,b)},e.clearItems=function(){e.items=[]},e.reset=function(r,o){r===void 0&&(r={}),r=le(r),e.internalSetState(function(s){var u=s.selectedItem;return R({isOpen:e.props.defaultIsOpen,highlightedIndex:e.props.defaultHighlightedIndex,inputValue:e.props.itemToString(u)},r)},o)},e.toggleMenu=function(r,o){r===void 0&&(r={}),r=le(r),e.internalSetState(function(s){var u=s.isOpen;return R({isOpen:!u},u&&{highlightedIndex:e.props.defaultHighlightedIndex},r)},function(){var s=e.getState(),u=s.isOpen,c=s.highlightedIndex;u&&e.getItemCount()>0&&typeof c=="number"&&e.setHighlightedIndex(c,r),je(o)()})},e.openMenu=function(r){e.internalSetState({isOpen:!0},r)},e.closeMenu=function(r){e.internalSetState({isOpen:!1},r)},e.updateStatus=Me(function(){var r;if((r=e.props)!=null&&(r=r.environment)!=null&&r.document){var o=e.getState(),s=e.items[o.highlightedIndex],u=e.getItemCount(),c=e.props.getA11yStatusMessage(R({itemToString:e.props.itemToString,previousResultCount:e.previousResultCount,resultCount:u,highlightedItem:s},o));e.previousResultCount=u,Ye(c,e.props.environment.document)}},200);var a=e.props,d=a.defaultHighlightedIndex,v=a.initialHighlightedIndex,m=v===void 0?d:v,M=a.defaultIsOpen,H=a.initialIsOpen,_=H===void 0?M:H,S=a.initialInputValue,O=S===void 0?"":S,F=a.initialSelectedItem,$=F===void 0?null:F,A=e.getState({highlightedIndex:m,isOpen:_,inputValue:O,selectedItem:$});return A.selectedItem!=null&&e.props.initialInputValue===void 0&&(A.inputValue=e.props.itemToString(A.selectedItem)),e.state=A,e}xt(i,n);var l=i.prototype;return l.internalClearTimeouts=function(){this.timeoutIds.forEach(function(e){clearTimeout(e)}),this.timeoutIds=[]},l.getState=function(e){return e===void 0&&(e=this.state),Lt(e,this.props)},l.getItemCount=function(){var e=this.items.length;return this.itemCount!=null?e=this.itemCount:this.props.itemCount!==void 0&&(e=this.props.itemCount),e},l.getItemNodeFromIndex=function(e){return this.props.environment?this.props.environment.document.getElementById(this.getItemId(e)):null},l.scrollHighlightedItemIntoView=function(){{var e=this.getItemNodeFromIndex(this.getState().highlightedIndex);this.props.scrollIntoView(e,this._menuNode)}},l.moveHighlightedIndex=function(e,a){var d=this.getItemCount(),v=this.getState(),m=v.highlightedIndex;if(d>0){var M=He(m,e,{length:d},this.isItemDisabled,!0);this.setHighlightedIndex(M,a)}},l.getStateAndHelpers=function(){var e=this.getState(),a=e.highlightedIndex,d=e.inputValue,v=e.selectedItem,m=e.isOpen,M=this.props.itemToString,H=this.id,_=this.getRootProps,S=this.getToggleButtonProps,O=this.getLabelProps,F=this.getMenuProps,$=this.getInputProps,A=this.getItemProps,r=this.openMenu,o=this.closeMenu,s=this.toggleMenu,u=this.selectItem,c=this.selectItemAtIndex,g=this.selectHighlightedItem,f=this.setHighlightedIndex,y=this.clearSelection,I=this.clearItems,b=this.reset,C=this.setItemCount,T=this.unsetItemCount,D=this.internalSetState;return{getRootProps:_,getToggleButtonProps:S,getLabelProps:O,getMenuProps:F,getInputProps:$,getItemProps:A,reset:b,openMenu:r,closeMenu:o,toggleMenu:s,selectItem:u,selectItemAtIndex:c,selectHighlightedItem:g,setHighlightedIndex:f,clearSelection:y,clearItems:I,setItemCount:C,unsetItemCount:T,setState:D,itemToString:M,id:H,highlightedIndex:a,inputValue:d,isOpen:m,selectedItem:v}},l.componentDidMount=function(){var e=this;if(!this.props.environment)this.cleanup=function(){e.internalClearTimeouts()};else{var a=function(){e.isMouseDown=!0},d=function(S){e.isMouseDown=!1;var O=ke(S.target,[e._rootNode,e._menuNode],e.props.environment);!O&&e.getState().isOpen&&e.reset({type:Ge},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},v=function(){e.isTouchMove=!1},m=function(){e.isTouchMove=!0},M=function(S){var O=ke(S.target,[e._rootNode,e._menuNode],e.props.environment,!1);!e.isTouchMove&&!O&&e.getState().isOpen&&e.reset({type:dt},function(){return e.props.onOuterClick(e.getStateAndHelpers())})},H=this.props.environment;H.addEventListener("mousedown",a),H.addEventListener("mouseup",d),H.addEventListener("touchstart",v),H.addEventListener("touchmove",m),H.addEventListener("touchend",M),this.cleanup=function(){e.internalClearTimeouts(),e.updateStatus.cancel(),H.removeEventListener("mousedown",a),H.removeEventListener("mouseup",d),H.removeEventListener("touchstart",v),H.removeEventListener("touchmove",m),H.removeEventListener("touchend",M)}}},l.shouldScroll=function(e,a){var d=this.props.highlightedIndex===void 0?this.getState():this.props,v=d.highlightedIndex,m=a.highlightedIndex===void 0?e:a,M=m.highlightedIndex,H=v&&this.getState().isOpen&&!e.isOpen,_=v!==M;return H||_},l.componentDidUpdate=function(e,a){Re(this.props,"selectedItem")&&this.props.selectedItemChanged(e.selectedItem,this.props.selectedItem)&&this.internalSetState({type:at,inputValue:this.props.itemToString(this.props.selectedItem)}),!this.avoidScrolling&&this.shouldScroll(a,e)&&this.scrollHighlightedItemIntoView(),this.updateStatus()},l.componentWillUnmount=function(){this.cleanup()},l.render=function(){var e=Ne(this.props.children,B);this.clearItems(),this.getRootProps.called=!1,this.getRootProps.refKey=void 0,this.getRootProps.suppressRefError=void 0,this.getMenuProps.called=!1,this.getMenuProps.refKey=void 0,this.getMenuProps.suppressRefError=void 0,this.getLabelProps.called=!1,this.getInputProps.called=!1;var a=Ne(e(this.getStateAndHelpers()));if(!a)return null;if(this.getRootProps.called||this.props.suppressRefError)return a;if($t(a))return P.cloneElement(a,this.getRootProps(jt(a)))},i}(P.Component);return t.defaultProps={defaultHighlightedIndex:null,defaultIsOpen:!1,getA11yStatusMessage:Ft,itemToString:function(i){return i==null?"":String(i)},onStateChange:B,onInputValueChange:B,onUserAction:B,onChange:B,onSelect:B,onOuterClick:B,selectedItemChanged:function(i,l){return i!==l},environment:typeof window>"u"?void 0:window,stateReducer:function(i,l){return l},suppressRefError:!1,scrollIntoView:ze},t.stateChangeTypes=Vt,t}(),Xt=zt;function Yt(t,n){return n.changes}Me(function(t,n){Ye(t,n)},200);var z={itemToString:function(n){return n?String(n):""},itemToKey:function(n){return n},stateReducer:Yt,scrollIntoView:ze,environment:typeof window>"u"?void 0:window},de={environment:h.shape({addEventListener:h.func.isRequired,removeEventListener:h.func.isRequired,document:h.shape({createElement:h.func.isRequired,getElementById:h.func.isRequired,activeElement:h.any.isRequired,body:h.any.isRequired}).isRequired,Node:h.func.isRequired}),itemToString:h.func,itemToKey:h.func,stateReducer:h.func},ct=R({},de,{getA11yStatusMessage:h.func,highlightedIndex:h.number,defaultHighlightedIndex:h.number,initialHighlightedIndex:h.number,isOpen:h.bool,defaultIsOpen:h.bool,initialIsOpen:h.bool,selectedItem:h.any,initialSelectedItem:h.any,defaultSelectedItem:h.any,id:h.string,labelId:h.string,menuId:h.string,getItemId:h.func,toggleButtonId:h.string,onSelectedItemChange:h.func,onHighlightedIndexChange:h.func,onStateChange:h.func,onIsOpenChange:h.func,scrollIntoView:h.func});U(U({},ct),{items:h.array.isRequired,isItemDisabled:h.func});U(U({},z),{isItemDisabled:function(){return!1}});R({},ct,{items:h.array.isRequired,isItemDisabled:h.func,inputValue:h.string,defaultInputValue:h.string,initialInputValue:h.string,inputId:h.string,onInputValueChange:h.func});R({},z,{isItemDisabled:function(){return!1}});de.stateReducer,de.itemToKey,de.environment,h.array,h.array,h.array,h.func,h.number,h.number,h.number,h.func,h.func,h.string,h.string;z.itemToKey,z.stateReducer,z.environment;function Zt({items:t=[],label:n,placeholder:i=null,onChange:l,onFocus:p}){const e=P.useRef(null),[a,d]=P.useState(!1);P.useEffect(()=>{e.current&&setTimeout(()=>{d(!0)},0)},[e.current]);const[v,m]=P.useState(!1),M=S=>{m(!1),p&&p(S),setTimeout(()=>m(!0),1)},H=S=>{m(!1)},_=S=>{console.log(S),l&&l(S)};return w.jsx(Xt,{onChange:_,itemToString:S=>S?(S==null?void 0:S.label)||S.value:"",children:({getInputProps:S,getItemProps:O,getLabelProps:F,getMenuProps:$,isOpen:A,inputValue:r,highlightedIndex:o,selectedItem:s,getRootProps:u})=>{const c=f=>{if(!r)return!0;const y=r.split(" ").map(b=>b.toLowerCase()),I=f.label.split(" ").map(b=>b.toLowerCase());return y.every(b=>I.some(C=>C.includes(b)))},g=t.filter(c);return w.jsxs("div",{ref:e,className:`Combobox ${a?"init":""} ${v?"open":""}`,children:[w.jsxs("label",{...F(),children:[n,w.jsx("div",{className:"input-wrapper",...u({},{suppressRefError:!0}),children:w.jsx("input",{...S(),placeholder:i,onFocus:M,onClick:M,onBlur:H})})]}),w.jsx("ul",{className:`results ${v?"open":""}`,...$(),children:g.length&&v?g.map((f,y)=>w.jsx("li",{className:`item ${o===y?"highlighted":""}`,...O({index:y,item:f,style:{fontWeight:s===f?"bold":"normal"}}),children:(f==null?void 0:f.label)||f.value},(f==null?void 0:f.label)||f.value)):w.jsx("li",{className:"item",children:"(no results)"})})]})}})}function Oe(t){const n={loading:!1,error:null,data:null},i=(a,d)=>{switch(d.type){case W.FETCH_START:return{...a,loading:!0,error:null};case W.FETCH_SUCCESS:return{...a,loading:!1,data:d.payload};case W.FETCH_FAILURE:return{...a,loading:!1,error:d.payload};default:return a}},[l,p]=P.useReducer(i,n);return{state:l,get:async a=>{p({type:W.FETCH_START});try{const d={nocache:t?Date.parse(t):null},v=await axios.get(a,{params:d});return p({type:W.FETCH_SUCCESS,payload:v.data}),v}catch(d){return p({type:W.FETCH_FAILURE,payload:d.message}),d}}}}const W={FETCH_START:"FETCH_START",FETCH_SUCCESS:"FETCH_SUCCESS",FETCH_FAILURE:"FETCH_FAILURE"};function pn({apiLastModified:t}){var o,s;const[n,i]=P.useState(null),[l,p]=P.useState(null),[e,a]=P.useState([]),[d,v]=P.useState(null),[m,M]=P.useState(null),H=ft();mt("home");const _=vt(),S=Oe(t),O=Oe(t),F=Oe(t);P.useEffect(()=>{S.get("/api/fishes").then(u=>i(u.data.fishes)),O.get("/api/locations").then(u=>p(u.data.locations))},[]),P.useEffect(()=>{const u=H.get("settings",c=>c.selectedFish);u&&v(u)},[]);const $=u=>{let c;d===u?c=null:c=u,H.set("settings",g=>g.selectedFish=c),v(c)},A=u=>{M(u)};P.useEffect(()=>{var u;if(m){console.log(m),a([]);let c="/api/fishByLocation/"+m.value.regionId;c+="/"+(((u=m.value)==null?void 0:u.waterId)??0),c+="/"+(d??0),F.get(c).then(g=>{a(g.data.limits)})}},[m,d]);const r=u=>{const c=u.target,g=c.closest(".Combobox");g.addEventListener("transitionstart",()=>g.addEventListener("transitionend",()=>{var f;return(f=c.parentElement)==null?void 0:f.scrollIntoView({behavior:"smooth",block:"start"})},{once:!0}),{once:!0})};return w.jsxs(ht,{className:`Home ${m?"location-selected":""}`,children:[w.jsx("header",{children:w.jsx(gt,{children:w.jsxs("h1",{className:"hero",children:["Smart ",w.jsx("span",{children:"Fish"})]})})}),w.jsxs("main",{children:[n!==null&&l!==null&&w.jsxs("div",{className:"layout",children:[w.jsx("div",{className:"header",children:m&&w.jsxs("button",{onClick:()=>M(null),className:"selected-location flex items-center gap-2",children:[w.jsx("strong",{children:m.label.split("/").map(u=>w.jsx("span",{children:u},u))}),w.jsx(wt,{className:"h-5 w-5"})]})}),w.jsx("div",{className:"body",children:m?w.jsx(St,{restrictions:e,regionId:(o=m==null?void 0:m.value)==null?void 0:o.regionId,waterId:(s=m==null?void 0:m.value)==null?void 0:s.waterId}):w.jsx(Zt,{items:Object.keys(l).map(u=>({value:l[u],label:u})),onChange:A,onFocus:r,placeholder:"Search by river, lake or region"})})]}),w.jsx("div",{className:"logo",children:w.jsx("img",{src:"/images/logo.png"})})]}),w.jsx("footer",{children:_.isMobile?w.jsx(It,{fishes:n,selectedFishId:d,selectFish:$}):w.jsx(yt,{fishes:n,selectedFishId:d,selectFish:$})})]})}export{pn as default};
