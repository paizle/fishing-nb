import{r as a,j as s}from"./app-CFF68Tjq.js";import{P as m}from"./PublicLayout-Dk07SdV9.js";import{P as h}from"./PublicNav-xHwWebHp.js";import j from"./FeaturesMap-fAW6YHU-.js";import x from"./Sidebar-Y0JMThC5.js";import{L as f}from"./LoadingSpinner-D4qNOI1u.js";import"./ResponsiveNavLink-BCTjXlZC.js";import"./transition-CUDqhwlK.js";import"./index-B9s4pgv7.js";function S({apiLastModified:E}){const[t,n]=a.useState(null),[p,c]=a.useState(),[l,d]=a.useState();a.useEffect(()=>{async function e(){const r=await(await fetch("/waters.geojson",{cache:"default"})).json();n(r)}e()},[]);const u=e=>{const o=t.features.find(r=>r.properties.OBJECTID===e);c(o)},i=e=>{const o=t.features.find(r=>r.properties.OBJECTID===e);d(o)};return s.jsxs(m,{className:"WatersMap",children:[s.jsx("header",{children:s.jsx(h,{children:s.jsxs("h1",{className:"hero",children:["Smart ",s.jsx("span",{children:"Fish"})]})})}),s.jsxs("main",{children:[s.jsx(j,{feature:p,highlightedFeature:l}),s.jsx(x,{children:t?s.jsx("ul",{children:t.features.map(e=>s.jsx("li",{children:s.jsx("button",{className:e.properties.NAME1||e.properties.LOCALNAME?"":"no-name",onClick:()=>u(e.properties.OBJECTID),onMouseEnter:()=>i(e.properties.OBJECTID),onMouseDown:()=>i(e.properties.OBJECTID),children:e.properties.NAME1||e.properties.LOCALNAME||`NID: ${e.properties.NID}`})},e.properties.OBJECTID))}):s.jsx(f,{})})]})]})}export{S as default};
