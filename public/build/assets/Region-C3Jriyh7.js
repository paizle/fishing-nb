import{r as t,j as e,x as j}from"./app-CLyy3tIZ.js";import{P as g}from"./PublicLayout-DXCyzmDH.js";import{B as p}from"./Breadcrumb-CXTHotR0.js";function b({waters:c,breadcrumb:h}){console.log(c);const[d,R]=t.useState(c),[r,i]=t.useState([]),[a,f]=t.useState(""),l=t.useRef(null),o=t.useRef(null);t.useEffect(()=>{l.current&&l.current.focus()},[l.current]);const m=s=>{const n=s.target.value;if(f(n),console.log(n),n.length){const x=d.filter(u=>u.water?u.water.name.toLowerCase().includes(n.trim().toLowerCase()):!1);i(x)}else i([])};return t.useEffect(()=>{o.current&&a&&r.length},[r,a]),e.jsxs(g,{children:[e.jsx("header",{children:e.jsx(p,{breadcrumb:h})}),e.jsx("main",{children:e.jsx("div",{className:"Region",children:e.jsxs("div",{className:"autocomplete",children:[e.jsx("header",{children:e.jsxs("label",{children:[e.jsx("span",{children:"Search by Waters"}),e.jsx("input",{ref:l,onChange:m,placeholder:'hint: Try searching "lake" or "stream"'})]})}),e.jsx("ul",{ref:o,className:`results ${r.length||a?"has-results":null}`,children:r.length?r.map(s=>s!=null&&s.water?e.jsx("li",{children:e.jsx(j,{href:route("water.page",{id:s.water.id}),children:s.water.name})}):null):a?e.jsx("div",{children:"(no results)"}):null})]})})})]})}export{b as default};
