import{r as i,b as R,j as s}from"./app-CmCeuH0m.js";import{f as w}from"./WaterTransformers-gmxTU4MG.js";import{f as N,c as x}from"./format-wWbDcfoj.js";import{T as m,F as u}from"./Tooltip-CBiTN6xg.js";import{P as L}from"./PublicLayout-Dr1nIiRV.js";import{B as D}from"./Breadcrumb-Bbn2w6Mi.js";import{P as $}from"./PublicNav-DLhvOQaF.js";import"./parseMySqlDate-BUpSl06p.js";import"./ResponsiveNavLink-BAhhWogd.js";import"./transition-CUh4n4UF.js";function E({title:d,titleId:l,...c},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":l},c),d?i.createElement("title",{id:l},d):null,i.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))}const z=i.forwardRef(E);function V({limits:d,breadcrumb:l}){const c=w(d),n=R(),h=i.useRef(null),[t,b]=i.useState({}),S=e=>{if(console.log(e),e.defaultPrevented)return;const r=e.currentTarget.value;b(a=>{const o=JSON.parse(JSON.stringify(a));return o[r]=!(o!=null&&o[r]),o})},j=(e,r=!1)=>s.jsxs(s.Fragment,{children:[s.jsxs("span",{children:[N(e.seasonStart,n.isMobile?x.displayDayMonthShortFormat:x.displayDayMonthFormat)," "]}),s.jsxs("span",{children:["-"," ",N(e.seasonEnd,n.isMobile?x.displayDayMonthShortFormat:x.displayDayMonthFormat),r?",":""]})]}),p=e=>e.waterDescription?s.jsx("em",{className:"water-description",children:f(e,!1)}):null,f=(e,r=!0)=>{if(r&&e.waterDescription)return"";let a=e.fishingMethod;return e.tidal&&(a&&(a+=" in "),a+=e.tidal),a||(a+=e.water),a+=" "+e.waterDescription,a},M=e=>{const r=(e==null?void 0:e.minSize)??"N/A";return e.bagLimit===0?s.jsx("span",{className:"invalid",children:r}):r},y=e=>{const r=(e==null?void 0:e.maxSize)??"N/A";return e.bagLimit===0?s.jsx("span",{className:"invalid",children:r}):r},F=e=>e.bagLimit===null?s.jsx("span",{className:"text-md leading-4",children:"∞"}):e.hookLimit?s.jsxs(s.Fragment,{children:[e.bagLimit,s.jsx(m,{message:`Daily Hook and Release Limit: ${e.hookLimit}`,containerRef:h,children:s.jsx(u,{className:"alert"})})]}):e.bagLimit,g=(e,r=!1)=>s.jsxs("div",{className:`limit ${r?"group":""} ${e.group?"group-start":""}`,children:[s.jsxs("div",{className:"season-exception",children:[s.jsx("span",{className:"date-span",children:j(e,e.group||r)}),s.jsxs("em",{className:"exception",children:[" ",f(e)]}),e.note?s.jsx(m,{message:e.note,containerRef:h,children:s.jsx(u,{className:"alert"})}):""]}),s.jsx("div",{children:F(e)}),s.jsx("div",{children:M(e)}),s.jsx("div",{children:y(e)})]}),v=(e,r=!1)=>e.map((a,o)=>a!=null&&a.group?s.jsxs(s.Fragment,{children:[g(a),v(a.group,!0),p(a)]}):s.jsxs(s.Fragment,{children:[g(a,r),r?null:p(a)]}));return s.jsxs(L,{children:[s.jsx("header",{className:"shadow",children:s.jsx($,{children:s.jsx(D,{breadcrumb:l})})}),s.jsx("main",{children:s.jsx("div",{className:"Water",children:s.jsxs("div",{className:"fish-grid",ref:h,children:[s.jsxs("div",{className:"header",children:[s.jsxs("div",{className:"column-header date-range",children:[!n.isMobile&&s.jsx(s.Fragment,{children:"Fish/Season/"}),"Restrictions"]}),s.jsx("div",{className:"column-header",children:"Bag Limit"}),s.jsxs("div",{className:"column-header",children:[n.isMobile?"Min.":"Minimum"," Size"]}),s.jsxs("div",{className:"column-header",children:[n.isMobile?"Max.":"Maximum"," Size"]})]}),s.jsx("div",{className:"body",children:Object.keys(c??{}).map((e,r)=>s.jsxs("div",{className:"fish-row-container",children:[s.jsxs("button",{onClick:S,value:e,className:`fish-name ${r%2===0?"even":"odd"} ${t!=null&&t[e]?"open":""}`,children:[s.jsxs("div",{className:"fish-season",children:[s.jsxs("strong",{children:[s.jsx(z,{className:"open-indicator"}),e]}),s.jsxs("em",{children:["(",j(c[e]),")"]})]}),s.jsx("div",{className:"flex",children:c[e].limits.length>1?s.jsx(m,{message:"Some Restrictions",containerRef:h,children:s.jsx(u,{className:"alert"})}):null})]}),s.jsx("div",{className:`limits ${r%2===0?"even":"odd"} ${t!=null&&t[e]?"open":""}`,children:v(c[e].limits)})]},e))})]})})})]})}export{V as default};
