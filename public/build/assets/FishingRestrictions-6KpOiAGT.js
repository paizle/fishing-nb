var ne=Object.defineProperty;var ie=(n,s,e)=>s in n?ne(n,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[s]=e;var a=(n,s,e)=>ie(n,typeof s!="symbol"?s+"":s,e);import{j as M,r as A,u as ae}from"./app-qgmEBhhY.js";import{P as E}from"./index-CZRUkRAZ.js";import{t as T,c as D,g as K,m as oe,a as ce,b as ue,d as le,s as L,e as V,f as de,h as fe,i as U,j as we,l as z,k as he,w as X,n as ye,o as be,F as xe}from"./FishRestrictionsTable-Ce52-gE6.js";import{g as me}from"./getFishImageSrc-bMjek-YH.js";function J(n,s,e){const r=T(n,e==null?void 0:e.in);return isNaN(s)?D((e==null?void 0:e.in)||n,NaN):(s&&r.setDate(r.getDate()+s),r)}function Z(n,s){const e=+T(n)-+T(s);return e<0?-1:e>0?1:e}function pe(){return Object.assign({},K())}function ge(n,s){const e=T(n,s==null?void 0:s.in).getDay();return e===0?7:e}function Te(n,s){const e=De(s)?new s(0):D(s,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e}function De(n){var s;return typeof n=="function"&&((s=n.prototype)==null?void 0:s.constructor)===n}const ke=10;class S{constructor(){a(this,"subPriority",0)}validate(s,e){return!0}}class Me extends S{constructor(s,e,r,t,i){super(),this.value=s,this.validateValue=e,this.setValue=r,this.priority=t,i&&(this.subPriority=i)}validate(s,e){return this.validateValue(s,this.value,e)}set(s,e,r){return this.setValue(s,e,this.value,r)}}class Pe extends S{constructor(e,r){super();a(this,"priority",ke);a(this,"subPriority",-1);this.context=e||(t=>D(r,t))}set(e,r){return r.timestampIsSet?e:D(e,Te(e,this.context))}}class u{run(s,e,r,t){const i=this.parse(s,e,r,t);return i?{setter:new Me(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(s,e,r){return!0}}class _e extends u{constructor(){super(...arguments);a(this,"priority",140);a(this,"incompatibleTokens",["R","u","t","T"])}parse(e,r,t){switch(r){case"G":case"GG":case"GGG":return t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"});case"GGGGG":return t.era(e,{width:"narrow"});case"GGGG":default:return t.era(e,{width:"wide"})||t.era(e,{width:"abbreviated"})||t.era(e,{width:"narrow"})}}set(e,r,t){return r.era=t,e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}}const h={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},p={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function y(n,s){return n&&{value:s(n.value),rest:n.rest}}function d(n,s){const e=s.match(n);return e?{value:parseInt(e[0],10),rest:s.slice(e[0].length)}:null}function g(n,s){const e=s.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:s.slice(1)};const r=e[1]==="+"?1:-1,t=e[2]?parseInt(e[2],10):0,i=e[3]?parseInt(e[3],10):0,o=e[5]?parseInt(e[5],10):0;return{value:r*(t*oe+i*ce+o*ue),rest:s.slice(e[0].length)}}function ee(n){return d(h.anyDigitsSigned,n)}function w(n,s){switch(n){case 1:return d(h.singleDigit,s);case 2:return d(h.twoDigits,s);case 3:return d(h.threeDigits,s);case 4:return d(h.fourDigits,s);default:return d(new RegExp("^\\d{1,"+n+"}"),s)}}function I(n,s){switch(n){case 1:return d(h.singleDigitSigned,s);case 2:return d(h.twoDigitsSigned,s);case 3:return d(h.threeDigitsSigned,s);case 4:return d(h.fourDigitsSigned,s);default:return d(new RegExp("^-?\\d{1,"+n+"}"),s)}}function R(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function te(n,s){const e=s>0,r=e?s:1-s;let t;if(r<=50)t=n||100;else{const i=r+50,o=Math.trunc(i/100)*100,l=n>=i%100;t=n+o-(l?100:0)}return e?t:1-t}function re(n){return n%400===0||n%4===0&&n%100!==0}class Oe extends u{constructor(){super(...arguments);a(this,"priority",130);a(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(e,r,t){const i=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return y(w(4,e),i);case"yo":return y(t.ordinalNumber(e,{unit:"year"}),i);default:return y(w(r.length,e),i)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,t){const i=e.getFullYear();if(t.isTwoDigitYear){const l=te(t.year,i);return e.setFullYear(l,0,1),e.setHours(0,0,0,0),e}const o=!("era"in r)||r.era===1?t.year:1-t.year;return e.setFullYear(o,0,1),e.setHours(0,0,0,0),e}}class Ee extends u{constructor(){super(...arguments);a(this,"priority",130);a(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(e,r,t){const i=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return y(w(4,e),i);case"Yo":return y(t.ordinalNumber(e,{unit:"year"}),i);default:return y(w(r.length,e),i)}}validate(e,r){return r.isTwoDigitYear||r.year>0}set(e,r,t,i){const o=le(e,i);if(t.isTwoDigitYear){const x=te(t.year,o);return e.setFullYear(x,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),L(e,i)}const l=!("era"in r)||r.era===1?t.year:1-t.year;return e.setFullYear(l,0,i.firstWeekContainsDate),e.setHours(0,0,0,0),L(e,i)}}class Ye extends u{constructor(){super(...arguments);a(this,"priority",130);a(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(e,r){return I(r==="R"?4:r.length,e)}set(e,r,t){const i=D(e,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),V(i)}}class He extends u{constructor(){super(...arguments);a(this,"priority",130);a(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(e,r){return I(r==="u"?4:r.length,e)}set(e,r,t){return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}}class Ie extends u{constructor(){super(...arguments);a(this,"priority",120);a(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,r,t){switch(r){case"Q":case"QQ":return w(r.length,e);case"Qo":return t.ordinalNumber(e,{unit:"quarter"});case"QQQ":return t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return t.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(e,{width:"wide",context:"formatting"})||t.quarter(e,{width:"abbreviated",context:"formatting"})||t.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=1&&r<=4}set(e,r,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}}class qe extends u{constructor(){super(...arguments);a(this,"priority",120);a(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(e,r,t){switch(r){case"q":case"qq":return w(r.length,e);case"qo":return t.ordinalNumber(e,{unit:"quarter"});case"qqq":return t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return t.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(e,{width:"wide",context:"standalone"})||t.quarter(e,{width:"abbreviated",context:"standalone"})||t.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=1&&r<=4}set(e,r,t){return e.setMonth((t-1)*3,1),e.setHours(0,0,0,0),e}}class Le extends u{constructor(){super(...arguments);a(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);a(this,"priority",110)}parse(e,r,t){const i=o=>o-1;switch(r){case"M":return y(d(h.month,e),i);case"MM":return y(w(2,e),i);case"Mo":return y(t.ordinalNumber(e,{unit:"month"}),i);case"MMM":return t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return t.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(e,{width:"wide",context:"formatting"})||t.month(e,{width:"abbreviated",context:"formatting"})||t.month(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}}class Re extends u{constructor(){super(...arguments);a(this,"priority",110);a(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(e,r,t){const i=o=>o-1;switch(r){case"L":return y(d(h.month,e),i);case"LL":return y(w(2,e),i);case"Lo":return y(t.ordinalNumber(e,{unit:"month"}),i);case"LLL":return t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return t.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(e,{width:"wide",context:"standalone"})||t.month(e,{width:"abbreviated",context:"standalone"})||t.month(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.setMonth(t,1),e.setHours(0,0,0,0),e}}function Ne(n,s,e){const r=T(n,e==null?void 0:e.in),t=de(r,e)-s;return r.setDate(r.getDate()-t*7),T(r,e==null?void 0:e.in)}class ve extends u{constructor(){super(...arguments);a(this,"priority",100);a(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(e,r,t){switch(r){case"w":return d(h.week,e);case"wo":return t.ordinalNumber(e,{unit:"week"});default:return w(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,t,i){return L(Ne(e,t,i),i)}}function Fe(n,s,e){const r=T(n,e==null?void 0:e.in),t=fe(r,e)-s;return r.setDate(r.getDate()-t*7),r}class Qe extends u{constructor(){super(...arguments);a(this,"priority",100);a(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(e,r,t){switch(r){case"I":return d(h.week,e);case"Io":return t.ordinalNumber(e,{unit:"week"});default:return w(r.length,e)}}validate(e,r){return r>=1&&r<=53}set(e,r,t){return V(Fe(e,t))}}const Ce=[31,28,31,30,31,30,31,31,30,31,30,31],We=[31,29,31,30,31,30,31,31,30,31,30,31];class je extends u{constructor(){super(...arguments);a(this,"priority",90);a(this,"subPriority",1);a(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(e,r,t){switch(r){case"d":return d(h.date,e);case"do":return t.ordinalNumber(e,{unit:"date"});default:return w(r.length,e)}}validate(e,r){const t=e.getFullYear(),i=re(t),o=e.getMonth();return i?r>=1&&r<=We[o]:r>=1&&r<=Ce[o]}set(e,r,t){return e.setDate(t),e.setHours(0,0,0,0),e}}class Be extends u{constructor(){super(...arguments);a(this,"priority",90);a(this,"subpriority",1);a(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(e,r,t){switch(r){case"D":case"DD":return d(h.dayOfYear,e);case"Do":return t.ordinalNumber(e,{unit:"date"});default:return w(r.length,e)}}validate(e,r){const t=e.getFullYear();return re(t)?r>=1&&r<=366:r>=1&&r<=365}set(e,r,t){return e.setMonth(0,t),e.setHours(0,0,0,0),e}}function N(n,s,e){var Y,P,H,k;const r=K(),t=(e==null?void 0:e.weekStartsOn)??((P=(Y=e==null?void 0:e.locale)==null?void 0:Y.options)==null?void 0:P.weekStartsOn)??r.weekStartsOn??((k=(H=r.locale)==null?void 0:H.options)==null?void 0:k.weekStartsOn)??0,i=T(n,e==null?void 0:e.in),o=i.getDay(),x=(s%7+7)%7,b=7-t,O=s<0||s>6?s-(o+b)%7:(x+b)%7-(o+b)%7;return J(i,O,e)}class Ge extends u{constructor(){super(...arguments);a(this,"priority",90);a(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(e,r,t){switch(r){case"E":case"EE":case"EEE":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return t.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,i){return e=N(e,t,i),e.setHours(0,0,0,0),e}}class Ae extends u{constructor(){super(...arguments);a(this,"priority",90);a(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(e,r,t,i){const o=l=>{const x=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+x};switch(r){case"e":case"ee":return y(w(r.length,e),o);case"eo":return y(t.ordinalNumber(e,{unit:"day"}),o);case"eee":return t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeeee":return t.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,i){return e=N(e,t,i),e.setHours(0,0,0,0),e}}class ze extends u{constructor(){super(...arguments);a(this,"priority",90);a(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(e,r,t,i){const o=l=>{const x=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+x};switch(r){case"c":case"cc":return y(w(r.length,e),o);case"co":return y(t.ordinalNumber(e,{unit:"day"}),o);case"ccc":return t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"ccccc":return t.day(e,{width:"narrow",context:"standalone"});case"cccccc":return t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return t.day(e,{width:"wide",context:"standalone"})||t.day(e,{width:"abbreviated",context:"standalone"})||t.day(e,{width:"short",context:"standalone"})||t.day(e,{width:"narrow",context:"standalone"})}}validate(e,r){return r>=0&&r<=6}set(e,r,t,i){return e=N(e,t,i),e.setHours(0,0,0,0),e}}function Xe(n,s,e){const r=T(n,e==null?void 0:e.in),t=ge(r,e),i=s-t;return J(r,i,e)}class Ze extends u{constructor(){super(...arguments);a(this,"priority",90);a(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(e,r,t){const i=o=>o===0?7:o;switch(r){case"i":case"ii":return w(r.length,e);case"io":return t.ordinalNumber(e,{unit:"day"});case"iii":return y(t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),i);case"iiiii":return y(t.day(e,{width:"narrow",context:"formatting"}),i);case"iiiiii":return y(t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),i);case"iiii":default:return y(t.day(e,{width:"wide",context:"formatting"})||t.day(e,{width:"abbreviated",context:"formatting"})||t.day(e,{width:"short",context:"formatting"})||t.day(e,{width:"narrow",context:"formatting"}),i)}}validate(e,r){return r>=1&&r<=7}set(e,r,t){return e=Xe(e,t),e.setHours(0,0,0,0),e}}class $e extends u{constructor(){super(...arguments);a(this,"priority",80);a(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(e,r,t){switch(r){case"a":case"aa":case"aaa":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(R(t),0,0,0),e}}class Ke extends u{constructor(){super(...arguments);a(this,"priority",80);a(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(e,r,t){switch(r){case"b":case"bb":case"bbb":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(R(t),0,0,0),e}}class Ve extends u{constructor(){super(...arguments);a(this,"priority",80);a(this,"incompatibleTokens",["a","b","t","T"])}parse(e,r,t){switch(r){case"B":case"BB":case"BBB":return t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return t.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(e,{width:"wide",context:"formatting"})||t.dayPeriod(e,{width:"abbreviated",context:"formatting"})||t.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,r,t){return e.setHours(R(t),0,0,0),e}}class Ue extends u{constructor(){super(...arguments);a(this,"priority",70);a(this,"incompatibleTokens",["H","K","k","t","T"])}parse(e,r,t){switch(r){case"h":return d(h.hour12h,e);case"ho":return t.ordinalNumber(e,{unit:"hour"});default:return w(r.length,e)}}validate(e,r){return r>=1&&r<=12}set(e,r,t){const i=e.getHours()>=12;return i&&t<12?e.setHours(t+12,0,0,0):!i&&t===12?e.setHours(0,0,0,0):e.setHours(t,0,0,0),e}}class Je extends u{constructor(){super(...arguments);a(this,"priority",70);a(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(e,r,t){switch(r){case"H":return d(h.hour23h,e);case"Ho":return t.ordinalNumber(e,{unit:"hour"});default:return w(r.length,e)}}validate(e,r){return r>=0&&r<=23}set(e,r,t){return e.setHours(t,0,0,0),e}}class Se extends u{constructor(){super(...arguments);a(this,"priority",70);a(this,"incompatibleTokens",["h","H","k","t","T"])}parse(e,r,t){switch(r){case"K":return d(h.hour11h,e);case"Ko":return t.ordinalNumber(e,{unit:"hour"});default:return w(r.length,e)}}validate(e,r){return r>=0&&r<=11}set(e,r,t){return e.getHours()>=12&&t<12?e.setHours(t+12,0,0,0):e.setHours(t,0,0,0),e}}class et extends u{constructor(){super(...arguments);a(this,"priority",70);a(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(e,r,t){switch(r){case"k":return d(h.hour24h,e);case"ko":return t.ordinalNumber(e,{unit:"hour"});default:return w(r.length,e)}}validate(e,r){return r>=1&&r<=24}set(e,r,t){const i=t<=24?t%24:t;return e.setHours(i,0,0,0),e}}class tt extends u{constructor(){super(...arguments);a(this,"priority",60);a(this,"incompatibleTokens",["t","T"])}parse(e,r,t){switch(r){case"m":return d(h.minute,e);case"mo":return t.ordinalNumber(e,{unit:"minute"});default:return w(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,t){return e.setMinutes(t,0,0),e}}class rt extends u{constructor(){super(...arguments);a(this,"priority",50);a(this,"incompatibleTokens",["t","T"])}parse(e,r,t){switch(r){case"s":return d(h.second,e);case"so":return t.ordinalNumber(e,{unit:"second"});default:return w(r.length,e)}}validate(e,r){return r>=0&&r<=59}set(e,r,t){return e.setSeconds(t,0),e}}class st extends u{constructor(){super(...arguments);a(this,"priority",30);a(this,"incompatibleTokens",["t","T"])}parse(e,r){const t=i=>Math.trunc(i*Math.pow(10,-r.length+3));return y(w(r.length,e),t)}set(e,r,t){return e.setMilliseconds(t),e}}class nt extends u{constructor(){super(...arguments);a(this,"priority",10);a(this,"incompatibleTokens",["t","T","x"])}parse(e,r){switch(r){case"X":return g(p.basicOptionalMinutes,e);case"XX":return g(p.basic,e);case"XXXX":return g(p.basicOptionalSeconds,e);case"XXXXX":return g(p.extendedOptionalSeconds,e);case"XXX":default:return g(p.extended,e)}}set(e,r,t){return r.timestampIsSet?e:D(e,e.getTime()-U(e)-t)}}class it extends u{constructor(){super(...arguments);a(this,"priority",10);a(this,"incompatibleTokens",["t","T","X"])}parse(e,r){switch(r){case"x":return g(p.basicOptionalMinutes,e);case"xx":return g(p.basic,e);case"xxxx":return g(p.basicOptionalSeconds,e);case"xxxxx":return g(p.extendedOptionalSeconds,e);case"xxx":default:return g(p.extended,e)}}set(e,r,t){return r.timestampIsSet?e:D(e,e.getTime()-U(e)-t)}}class at extends u{constructor(){super(...arguments);a(this,"priority",40);a(this,"incompatibleTokens","*")}parse(e){return ee(e)}set(e,r,t){return[D(e,t*1e3),{timestampIsSet:!0}]}}class ot extends u{constructor(){super(...arguments);a(this,"priority",20);a(this,"incompatibleTokens","*")}parse(e){return ee(e)}set(e,r,t){return[D(e,t),{timestampIsSet:!0}]}}const ct={G:new _e,y:new Oe,Y:new Ee,R:new Ye,u:new He,Q:new Ie,q:new qe,M:new Le,L:new Re,w:new ve,I:new Qe,d:new je,D:new Be,E:new Ge,e:new Ae,c:new ze,i:new Ze,a:new $e,b:new Ke,B:new Ve,h:new Ue,H:new Je,K:new Se,k:new et,m:new tt,s:new rt,S:new st,X:new nt,x:new it,t:new at,T:new ot},ut=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dt=/^'([^]*?)'?$/,ft=/''/g,wt=/\S/,ht=/[a-zA-Z]/;function yt(n,s,e,r){var F,Q,C,W;const t=()=>D(e,NaN),i=pe(),o=i.locale??we,l=i.firstWeekContainsDate??((Q=(F=i.locale)==null?void 0:F.options)==null?void 0:Q.firstWeekContainsDate)??1,x=i.weekStartsOn??((W=(C=i.locale)==null?void 0:C.options)==null?void 0:W.weekStartsOn)??0,b={firstWeekContainsDate:l,weekStartsOn:x,locale:o},O=[new Pe(r==null?void 0:r.in,e)],Y=s.match(lt).map(c=>{const f=c[0];if(f in z){const m=z[f];return m(c,o.formatLong)}return c}).join("").match(ut),P=[];for(let c of Y){he(c)&&X(c,s,n),ye(c)&&X(c,s,n);const f=c[0],m=ct[f];if(m){const{incompatibleTokens:j}=m;if(Array.isArray(j)){const B=P.find(G=>j.includes(G.token)||G.token===f);if(B)throw new RangeError(`The format string mustn't contain \`${B.fullToken}\` and \`${c}\` at the same time`)}else if(m.incompatibleTokens==="*"&&P.length>0)throw new RangeError(`The format string mustn't contain \`${c}\` and any other token at the same time`);P.push({token:f,fullToken:c});const q=m.run(n,c,o.match,b);if(!q)return t();O.push(q.setter),n=q.rest}else{if(f.match(ht))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");if(c==="''"?c="'":f==="'"&&(c=bt(c)),n.indexOf(c)===0)n=n.slice(c.length);else return t()}}if(n.length>0&&wt.test(n))return t();const H=O.map(c=>c.priority).sort((c,f)=>f-c).filter((c,f,m)=>m.indexOf(c)===f).map(c=>O.filter(f=>f.priority===c).sort((f,m)=>m.subPriority-f.subPriority)).map(c=>c[0]);let k=T(e,r==null?void 0:r.in);if(isNaN(+k))return t();const v={};for(const c of H){if(!c.validate(k,b))return t();const f=c.set(k,v,b);Array.isArray(f)?(k=f[0],Object.assign(v,f[1])):k=f}return k}function bt(n){return n.match(dt)[1].replace(ft,"'")}function $(n){return yt(n,be.mysqlDateFormat,new Date)}class _{constructor(s){Object.assign(this,_.convertToFishingRestriction(s))}static convertToFishingRestriction(s){var e;return{id:s.id,seasonStart:$(s.season_start),seasonEnd:$(s.season_end),bagLimit:s.bag_limit,hookLimit:s.hook_release_limit,minSize:s.minimum_size,maxSize:s.maximum_size,water:((e=s==null?void 0:s.water)==null?void 0:e.name)??"",fishingMethod:(s==null?void 0:s.method)||"",tidal:(s==null?void 0:s.tidal)||"",watersCategory:(s==null?void 0:s.water_type)||"",boundary:(s==null?void 0:s.boundary)||"",waterDescription:s.water_description??"",note:s.note}}static sortBySeasonAndGenerality(s){return s.sort((e,r)=>{let t=null;return!t&&e.fishingMethod&&(t=e.fishingMethod.localeCompare(r.fishingMethod)),t||(t=Z(e.seasonStart,r.seasonStart)),!t&&e.boundary&&(t=r.boundary.localeCompare(e.boundary)),t||(e.water||e.fishingMethod||e.tidal||e.waterDescription?1:Z(r.seasonEnd,e.seasonEnd))})}static formatFishingMethod(s){var r,t;let e="";return((r=s==null?void 0:s.fishing_method)==null?void 0:r.name)==="May only be angled by artificial fly or baited barbless hook with a single point"?e="Fly Fishing":e=((t=s==null?void 0:s.fishing_method)==null?void 0:t.name)??"",e}static setupGroups(s,e){Object.keys(s).forEach(r=>{const t={};let i=0;for(;i<s[r].restrictions.length;){const o=s[r].restrictions[i],l=e.map(x=>o[x]).join("-");t[l]?(t[l].group||(t[l].group=[]),t[l].group.push(o),s[r].restrictions.splice(i,1)):(t[l]=o,i++)}})}static sortRestrictions(s){Object.keys(s).forEach(e=>{s[e].restrictions=_.sortBySeasonAndGenerality(s[e].restrictions)})}}function xt(n){if(!(n!=null&&n.length))return;const s=n.reduce((e,r)=>{var i;const t=((i=r==null?void 0:r.fish)==null?void 0:i.name)??null;return e[t]||(e[t]={restrictions:[]}),e[t].restrictions.push(_.convertToFishingRestriction(r)),e},{});return _.sortRestrictions(s),_.setupGroups(s,["note","fishingMethod","tidal","waterDescription","water","boundary","watersCategory"]),s}function mt({className:n=""}){return M.jsxs("svg",{className:`LoadingSpinner -ml-1 mr-3 h-5 w-5 animate-spin ${n}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[M.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),M.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function se({isLoading:n,restrictions:s,locationId:e,waterId:r}){const[t,i]=A.useState([]),o=ae(),l=xt(s);A.useEffect(()=>{let b=[];e===6&&b.push("boundary"),i(b)},[e,r]);const x=()=>n?M.jsx("div",{className:"loading",children:M.jsx(mt,{})}):s?s.length===0?M.jsx("div",{className:"no-results",children:"(no results)"}):Object.keys(l??{}).map(b=>M.jsx(xe,{fishName:b,fishImageSrc:me(b),restrictions:l[b].restrictions,hiddenFields:t,isMobile:o.screenOrientation.isMobile},b)):null;return M.jsx("div",{className:"FishingRestrictions",children:x()})}se.propTypes={isLoading:E.bool,restrictions:E.arrayOf(E.object),regionId:E.number.isRequired,waterId:E.number};const Mt=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"}));export{se as F,mt as L,Mt as a};
