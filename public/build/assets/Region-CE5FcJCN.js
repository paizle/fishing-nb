import{r,j as e,x as j}from"./app-DhjhTIrp.js";import{P as p}from"./PublicLayout-CJ0ohSHj.js";import{B as g}from"./Breadcrumb-CRzlqsJC.js";import{P as R}from"./PublicNav-DzWCUJD7.js";import"./ResponsiveNavLink-D-aIb1UO.js";import"./transition-EMjWzN9p.js";function S({waters:c,breadcrumb:d}){console.log(c);const[h,w]=r.useState(c),[t,i]=r.useState([]),[a,m]=r.useState(""),l=r.useRef(null),o=r.useRef(null);r.useEffect(()=>{l.current&&l.current.focus()},[l.current]);const f=s=>{const n=s.target.value;if(m(n),console.log(n),n.length){const x=h.filter(u=>u.water?u.water.name.toLowerCase().includes(n.trim().toLowerCase()):!1);i(x)}else i([])};return r.useEffect(()=>{o.current&&a&&t.length},[t,a]),e.jsxs(p,{children:[e.jsx("header",{children:e.jsx(R,{children:e.jsx(g,{breadcrumb:d})})}),e.jsx("main",{children:e.jsx("div",{className:"Region",children:e.jsxs("div",{className:"autocomplete",children:[e.jsx("header",{children:e.jsxs("label",{children:[e.jsx("span",{children:"Search by Waters"}),e.jsx("input",{ref:l,onChange:f,placeholder:'hint: Try searching "lake" or "stream"'})]})}),e.jsx("div",{className:`results ${t.length||a?"has-results":null}`,children:e.jsx("ul",{ref:o,className:"",children:t.length?t.map(s=>s!=null&&s.water?e.jsx("li",{children:e.jsx(j,{href:route("location.water",{id:s.water.id}),children:s.water.name})}):null):a?e.jsx("div",{className:"p-4",children:"(no results)"}):null})})]})})})]})}export{S as default};
