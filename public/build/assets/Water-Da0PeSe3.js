import{r as t,j as s}from"./app-Bvn6fLUK.js";import{f as M}from"./WaterTransformers-BkgKbdLm.js";import{f as w,c as f}from"./parseMySqlDate-1ZJKP2sH.js";/* empty css                */import{P as S}from"./PublicLayout-CNV2oLiq.js";import{B as y}from"./Breadcrumb-BeGn34L_.js";import{P as R}from"./PublicNav-D8fwOJom.js";import{u as F}from"./useScreenOrientation-CpkSlnLv.js";import"./ResponsiveNavLink-B1kqPBOg.js";import"./transition-MnBhSZ7j.js";function E({title:i,titleId:o,...c},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":o},c),i?t.createElement("title",{id:o},i):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const D=t.forwardRef(E),P=({message:i=null,children:o})=>{const c=t.useRef(null),[a,u]=t.useState({hover:!1,flowLeft:!1}),l=x=>h=>{h.preventDefault(),h.stopPropagation(),u(()=>({hover:x,flowLeft:!1}))};return t.useLayoutEffect(()=>{c.current&&u(()=>({hover:a.hover,flowLeft:$(c.current)}))},[a.hover]),s.jsxs("a",{className:`Tooltip ${a.hover&&"show"}`,onMouseEnter:l(!0),onMouseLeave:l(!1),children:[o,s.jsx("div",{ref:c,className:`message ${a.flowLeft&&"flow-left"}`,children:s.jsx("div",{className:"message-content",children:i})})]})};function $(i){const o=i.getBoundingClientRect();return o.x+o.width>window.innerWidth}function B({title:i,titleId:o,...c},a){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":o},c),i?t.createElement("title",{id:o},i):null,t.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))}const k=t.forwardRef(B);function V({limits:i,breadcrumb:o}){const c=M(i),a=F(),u=t.useRef(null),[l,x]=t.useState({}),h=e=>{if(console.log(e),e.defaultPrevented)return;const r=e.currentTarget.value;x(n=>{const d=JSON.parse(JSON.stringify(n));return d[r]=!(d!=null&&d[r]),d})},m=(e,r=!1)=>s.jsxs(s.Fragment,{children:[s.jsxs("span",{children:[w(e.seasonStart,a.isMobile?f.displayDayMonthShortFormat:f.displayDayMonthFormat)," "]}),s.jsxs("span",{children:["-"," ",w(e.seasonEnd,a.isMobile?f.displayDayMonthShortFormat:f.displayDayMonthFormat),r?",":""]})]}),p=e=>e.waterDescription?s.jsx("em",{className:"water-description",children:j(e,!1)}):null,j=(e,r=!0)=>{if(r&&e.waterDescription)return"";let n=e.fishingMethod;return e.tidal&&(n&&(n+=" in "),n+=e.tidal),n||(n+=e.water),n+=" "+e.waterDescription,n},N=e=>{const r=(e==null?void 0:e.minSize)??"N/A";return e.bagLimit===0?s.jsx("span",{className:"invalid",children:r}):r},b=e=>{const r=(e==null?void 0:e.maxSize)??"N/A";return e.bagLimit===0?s.jsx("span",{className:"invalid",children:r}):r},L=e=>e.bagLimit===null?s.jsx("span",{className:"text-md leading-4",children:"∞"}):e.bagLimit,v=(e,r=!1)=>s.jsxs("div",{className:`limit ${r?"group":""} ${e.group?"group-start":""}`,children:[s.jsxs("div",{className:"season-exception",children:[s.jsx("span",{className:"date-span",children:m(e,e.group||r)}),s.jsxs("em",{className:"exception",children:[" ",j(e)]})]}),s.jsx("div",{children:L(e)}),s.jsx("div",{children:N(e)}),s.jsx("div",{children:b(e)})]}),g=(e,r=!1)=>e.map((n,d)=>n!=null&&n.group?s.jsxs(s.Fragment,{children:[v(n),g(n.group,!0),p(n)]}):s.jsxs(s.Fragment,{children:[v(n,r),r?null:p(n)]}));return s.jsxs(S,{children:[s.jsx("header",{children:s.jsx(R,{children:s.jsx(y,{breadcrumb:o})})}),s.jsx("main",{children:s.jsx("div",{className:"Water",children:s.jsxs("div",{className:"fish-grid",ref:u,children:[s.jsxs("div",{className:"header",children:[s.jsxs("div",{className:"column-header date-range",children:[!a.isMobile&&s.jsx(s.Fragment,{children:"Fish/Season/"}),"Restrictions"]}),s.jsx("div",{className:"column-header",children:"Bag Limit"}),s.jsxs("div",{className:"column-header",children:[a.isMobile?"Min.":"Minimum"," ","Size"]}),s.jsxs("div",{className:"column-header",children:[a.isMobile?"Max.":"Maximum"," ","Size"]})]}),s.jsx("div",{className:"body",children:Object.keys(c??{}).map((e,r)=>s.jsxs("div",{className:"fish-row-container",children:[s.jsxs("button",{onClick:h,value:e,className:`fish-name ${r%2===0?"even":"odd"} ${l!=null&&l[e]?"open":""}`,children:[s.jsxs("div",{className:"fish-season",children:[s.jsxs("strong",{children:[s.jsx(k,{className:"open-indicator"}),e]}),s.jsxs("em",{children:["(",m(c[e]),")"]})]}),s.jsx("div",{className:"flex",children:c[e].limits.length>1?s.jsx(P,{message:"Some Restrictions",containerRef:u,children:s.jsx(D,{className:"alert"})}):null})]}),s.jsx("div",{className:`limits ${r%2===0?"even":"odd"} ${l!=null&&l[e]?"open":""}`,children:g(c[e].limits)})]},e))})]})})})]})}export{V as default};
