import{R as f,j as n,r as h,x as v}from"./app-f-qF7hMT.js";import{p as o,N as p}from"./NewBrunswickMap-BoH9hFGF.js";function m({containerRef:d=null,onMouseEnterLocation:s,onMouseLeaveLocation:i,onClickLocation:r}){const l=d||f.createRef(null);return f.useEffect(()=>{if(l.current){const e=l.current.querySelector("svg");Object.keys(o).forEach(t=>{const c=e.querySelector("#"+t);c.classList.add("location"),s&&c.addEventListener("mouseenter",a=>{s(a,t)}),i&&c.addEventListener("mouseleave",a=>i(a,t)),r&&c.addEventListener("click",a=>r(a,t))})}},[l.current]),n.jsx(p,{containerRef:l})}function x({locations:d}){const s=h.useRef(null),i=h.useRef(null),r=d.reduce((e,t)=>(e[t.name]=t,e),{}),l=e=>{const t=o[e];return r[t]};return n.jsxs("div",{className:"MapWeb",children:[n.jsx(m,{containerRef:s,onMouseEnterLocation:(e,t)=>{i.current.querySelector(`[data-path-id=${t}]`).classList.add("highlighted")},onMouseLeaveLocation:(e,t)=>{i.current.querySelector(`[data-path-id=${t}]`).classList.remove("highlighted")},onClickLocation:(e,t)=>{i.current&&i.current.querySelector(`[data-path-id=${t}]`).querySelector("a").click()}}),n.jsx("div",{className:"locations",ref:i,children:n.jsx("ul",{children:Object.keys(o).map(e=>{var t,c;return n.jsx("li",{"data-path-id":e,children:n.jsxs(v,{href:route("location.region",{id:l(e).id}),onClick:a=>{var u;if(!((u=r==null?void 0:r[o[e]])!=null&&u.hasData))return a.preventDefault(),!1},onMouseEnter:a=>{s.current&&s.current.querySelector(`[id=${e}]`).classList.add("active")},onMouseLeave:a=>{s.current&&s.current.querySelector(`[id=${e}]`).classList.remove("active")},children:[n.jsx("h3",{children:o[e]}),n.jsxs("em",{children:[!((t=r==null?void 0:r[o[e]])!=null&&t.hasData)&&n.jsx("strong",{children:"(no data)"}),(c=r==null?void 0:r[o[e]])==null?void 0:c.description]})]})},e)})})})]})}export{x as default};
