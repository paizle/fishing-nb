import{R as f,j as c,r as h,x as v}from"./app-CmCeuH0m.js";import{p as o,N as m}from"./NewBrunswickMap-Bjaxg6FN.js";function p({containerRef:d=null,onMouseEnterLocation:s,onMouseLeaveLocation:i,onClickLocation:r}){const l=d||f.createRef(null);return f.useEffect(()=>{if(l.current){const t=l.current.querySelector("svg");Object.keys(o).forEach(e=>{const a=t.querySelector("#"+e);a.classList.add("location"),s&&a.addEventListener("mouseenter",n=>{s(n,e)}),i&&a.addEventListener("mouseleave",n=>i(n,e)),r&&a.addEventListener("click",n=>r(n,e))})}},[l.current]),c.jsx(m,{containerRef:l})}function R({locations:d}){const s=h.useRef(null),i=h.useRef(null),r=d.reduce((t,e)=>(t[e.name]=e,t),{}),l=t=>{const e=o[t];return r[e]};return c.jsxs("div",{className:"MapWeb",children:[c.jsx(p,{containerRef:s,onMouseEnterLocation:(t,e)=>{i.current.querySelector(`[data-path-id=${e}] a`).classList.add("highlighted")},onMouseLeaveLocation:(t,e)=>{i.current.querySelector(`[data-path-id=${e}] a`).classList.remove("highlighted")},onClickLocation:(t,e)=>{i.current&&i.current.querySelector(`[data-path-id=${e}] a`).click()}}),c.jsx("div",{className:"locations",ref:i,children:c.jsx("ul",{children:Object.keys(o).map(t=>{var e,a;return c.jsx("li",{"data-path-id":t,children:c.jsxs(v,{className:r!=null&&r[o[t]].hasData?"":"disabled",href:route("location.region",{id:l(t).id}),onClick:n=>{var u;if(!((u=r==null?void 0:r[o[t]])!=null&&u.hasData))return n.preventDefault(),!1},onMouseEnter:n=>{s.current&&s.current.querySelector(`[id=${t}]`).classList.add("active")},onMouseLeave:n=>{s.current&&s.current.querySelector(`[id=${t}]`).classList.remove("active")},children:[c.jsx("h3",{children:o[t]}),c.jsxs("em",{children:[!((e=r==null?void 0:r[o[t]])!=null&&e.hasData)&&c.jsx("strong",{children:"(no data)"}),(a=r==null?void 0:r[o[t]])==null?void 0:a.description]})]})},t)})})})]})}export{R as default};
