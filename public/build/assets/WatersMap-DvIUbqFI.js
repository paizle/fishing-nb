import{r as i,j as s}from"./app-nLRg-ZFk.js";import{P as u}from"./PublicLayout-BO2E_C_Z.js";import{P as h}from"./PublicNav-C9ladPtt.js";import j from"./FeaturesMap-DvDZl2w4.js";import x from"./Sidebar-CTm1K7X9.js";import{L as E}from"./LoadingSpinner-DSRl8nuN.js";import"./ResponsiveNavLink-_qAT9pij.js";import"./transition-C2tKVdQb.js";import"./index-DGf67eoN.js";function S({apiLastModified:f}){const[t,n]=i.useState(null),[p,c]=i.useState(),[l,d]=i.useState();i.useEffect(()=>{async function e(){const r=await(await fetch("/waters.geojson")).json();n(r)}e()},[]);const m=e=>{const o=t.features.find(r=>r.properties.OBJECTID===e);c(o)},a=e=>{const o=t.features.find(r=>r.properties.OBJECTID===e);d(o)};return s.jsxs(u,{className:"WatersMap",children:[s.jsx("header",{children:s.jsx(h,{children:s.jsxs("h1",{className:"hero",children:["Smart ",s.jsx("span",{children:"Fish"})]})})}),s.jsxs("main",{children:[s.jsx(j,{feature:p,highlightedFeature:l}),s.jsx(x,{children:t?s.jsx("ul",{children:t.features.map(e=>s.jsx("li",{children:s.jsx("button",{className:e.properties.NAME1||e.properties.LOCALNAME?"":"no-name",onClick:()=>m(e.properties.OBJECTID),onMouseEnter:()=>a(e.properties.OBJECTID),onMouseDown:()=>a(e.properties.OBJECTID),children:e.properties.NAME1||e.properties.LOCALNAME||`NID: ${e.properties.NID}`})},e.properties.OBJECTID))}):s.jsx(E,{})})]})]})}export{S as default};
